// Generated by js_of_ocaml
//# buildInfo:effects=true, kind=cmo, use-js-string=true, version=5.7.1+5.7.1

//# unitInfo: Provides: Dune__exe__Toplevel
//# unitInfo: Requires: Assert_failure, Clflags, Dune__exe__B64, Dune__exe__Colorize, Dune__exe__Graphics_support, Dune__exe__Indent, Dune__exe__Ppx_support, Js_of_ocaml__Dom, Js_of_ocaml__Dom_html, Js_of_ocaml__Firebug, Js_of_ocaml__Js, Js_of_ocaml__Json, Js_of_ocaml__Regexp, Js_of_ocaml__Sys_js, Js_of_ocaml__Typed_array, Js_of_ocaml__Url, Js_of_ocaml_lwt, Js_of_ocaml_lwt__Lwt_jsonp, Js_of_ocaml_toplevel__JsooTop, Js_of_ocaml_tyxml__Tyxml_js, Location, Lwt, Stdlib, Stdlib__Array, Stdlib__Filename, Stdlib__Format, Stdlib__List, Stdlib__Printexc, Stdlib__Printf, Stdlib__String, Stdlib__Sys, Topdirs, Toploop
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$13 = "",
    cst$14 = "\n",
    cst$15 = '";;',
    cst_Format_printf = 'Format.printf "',
    cst_Format_printf_s = 'Format.printf "%s@.";;',
    cst_code$2 = "code",
    cst_history = "history",
    cst_output$1 = "output",
    cst_sharp$0 = "sharp",
    cst_toplevel_ml = "toplevel.ml",
    caml_callback = runtime.caml_callback,
    caml_check_bound = runtime.caml_check_bound,
    caml_int_compare = runtime.caml_int_compare,
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_ml_string_length = runtime.caml_ml_string_length,
    caml_pop_trap = runtime.caml_pop_trap,
    caml_push_trap = runtime.caml_push_trap,
    caml_string_get = runtime.caml_string_get,
    caml_string_of_jsstring = runtime.caml_string_of_jsstring;
   function caml_cps_exact_call1(f, a0){
    return runtime.caml_stack_check_depth()
            ? f(a0)
            : runtime.caml_trampoline_return(f, [a0]);
   }
   function caml_cps_call2(f, a0, a1){
    return runtime.caml_stack_check_depth()
            ? (f.l
                >= 0
                ? f.l
                : f.l = f.length)
              == 2
              ? f(a0, a1)
              : runtime.caml_call_gen(f, [a0, a1])
            : runtime.caml_trampoline_return(f, [a0, a1]);
   }
   function caml_cps_exact_call2(f, a0, a1){
    return runtime.caml_stack_check_depth()
            ? f(a0, a1)
            : runtime.caml_trampoline_return(f, [a0, a1]);
   }
   function caml_cps_call3(f, a0, a1, a2){
    return runtime.caml_stack_check_depth()
            ? (f.l
                >= 0
                ? f.l
                : f.l = f.length)
              == 3
              ? f(a0, a1, a2)
              : runtime.caml_call_gen(f, [a0, a1, a2])
            : runtime.caml_trampoline_return(f, [a0, a1, a2]);
   }
   function caml_cps_exact_call3(f, a0, a1, a2){
    return runtime.caml_stack_check_depth()
            ? f(a0, a1, a2)
            : runtime.caml_trampoline_return(f, [a0, a1, a2]);
   }
   function caml_cps_call4(f, a0, a1, a2, a3){
    return runtime.caml_stack_check_depth()
            ? (f.l
                >= 0
                ? f.l
                : f.l = f.length)
              == 4
              ? f(a0, a1, a2, a3)
              : runtime.caml_call_gen(f, [a0, a1, a2, a3])
            : runtime.caml_trampoline_return(f, [a0, a1, a2, a3]);
   }
   function caml_cps_exact_call4(f, a0, a1, a2, a3){
    return runtime.caml_stack_check_depth()
            ? f(a0, a1, a2, a3)
            : runtime.caml_trampoline_return(f, [a0, a1, a2, a3]);
   }
   function caml_cps_call5(f, a0, a1, a2, a3, a4){
    return runtime.caml_stack_check_depth()
            ? (f.l
                >= 0
                ? f.l
                : f.l = f.length)
              == 5
              ? f(a0, a1, a2, a3, a4)
              : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4])
            : runtime.caml_trampoline_return(f, [a0, a1, a2, a3, a4]);
   }
   function caml_cps_exact_call5(f, a0, a1, a2, a3, a4){
    return runtime.caml_stack_check_depth()
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_trampoline_return(f, [a0, a1, a2, a3, a4]);
   }
   function caml_cps_call6(f, a0, a1, a2, a3, a4, a5){
    return runtime.caml_stack_check_depth()
            ? (f.l
                >= 0
                ? f.l
                : f.l = f.length)
              == 6
              ? f(a0, a1, a2, a3, a4, a5)
              : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5])
            : runtime.caml_trampoline_return(f, [a0, a1, a2, a3, a4, a5]);
   }
   function caml_cps_call13
   (f, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12){
    return runtime.caml_stack_check_depth()
            ? (f.l
                >= 0
                ? f.l
                : f.l = f.length)
              == 13
              ? f(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12)
              : runtime.caml_call_gen
                (f, [a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12])
            : runtime.caml_trampoline_return
              (f, [a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12]);
   }
   var undef = undefined;
   runtime.jsoo_create_file
    ("/static/cmis/dune__exe__Toplevel.cmi",
     "Caml1999I032\x84\x95\xa6\xbe\0\0\0\x16\0\0\0\x02\0\0\0\t\0\0\0\x07\xa03Dune__exe__Toplevel@\x84\x95\xa6\xbe\0\0\0\x8f\0\0\0\x14\0\0\0M\0\0\0>\xa0\xa03Dune__exe__Toplevel\x900\xc2f\x9dt\x07b\x04\xf8\x94S\xb8\xdf\x1b\x1b9Y\xa0\xa0&Stdlib\x900\x85\xf8]\xdbG\xed\xc0\xc7W\x96W\xee\xe7@0-\xa0\xa0)Dune__exe\x900\xf7\x89\x12\x11g'<\xecF\x04{8\x98\xa8\x06P\xa0\xa08CamlinternalFormatBasics\x900\xce\xcf\xaf\xd5\xc0!G?^5\x8c\x96\xacu\x02\xa0@\x84\x95\xa6\xbe\0\0\0\b\0\0\0\x04\0\0\0\x0b\0\0\0\x0b\xa0@\xa0A\xa0\x90@@");
   var
    global_data = runtime.caml_get_global_data(),
    cst$12 = cst$13,
    cst$11 = cst$14,
    cst$10 = ";;",
    cst$3 = cst$13,
    cst$4 = cst$13,
    cst$5 = cst$13,
    cst$7 = cst$13,
    cst$8 = cst$13,
    cst$6 = "#",
    s = "btn-share",
    cst$1 = cst$13,
    cst$2 = cst$14,
    cst = "^\\(\\*+(.*)\\*+\\)$",
    cst$0 = cst$13,
    v$0 = [0, 4, [0, 7, 0]],
    header3 = "     Joy (~dev)",
    compiler_name = "OCaml",
    cst$9 = cst$13,
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Stdlib = global_data.Stdlib,
    Lwt = global_data.Lwt,
    Stdlib_Printexc = global_data.Stdlib__Printexc,
    Stdlib_Format = global_data.Stdlib__Format,
    Js_of_ocaml_Firebug = global_data.Js_of_ocaml__Firebug,
    Dune_exe_Indent = global_data.Dune__exe__Indent,
    Stdlib_String = global_data.Stdlib__String,
    Js_of_ocaml_toplevel_JsooTop = global_data.Js_of_ocaml_toplevel__JsooTop,
    Dune_exe_Graphics_support = global_data.Dune__exe__Graphics_support,
    Dune_exe_Colorize = global_data.Dune__exe__Colorize,
    Js_of_ocaml_Sys_js = global_data.Js_of_ocaml__Sys_js,
    Stdlib_List = global_data.Stdlib__List,
    Dune_exe_B64 = global_data.Dune__exe__B64,
    Stdlib_Array = global_data.Stdlib__Array,
    Js_of_ocaml_Json = global_data.Js_of_ocaml__Json,
    Js_of_ocaml_tyxml_Tyxml_js = global_data.Js_of_ocaml_tyxml__Tyxml_js,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Location = global_data.Location,
    Assert_failure = global_data.Assert_failure,
    Js_of_ocaml_Url = global_data.Js_of_ocaml__Url,
    Stdlib_Printf = global_data.Stdlib__Printf,
    Js_of_ocaml_lwt_Lwt_jsonp = global_data.Js_of_ocaml_lwt__Lwt_jsonp,
    Js_of_ocaml_Regexp = global_data.Js_of_ocaml__Regexp,
    Topdirs = global_data.Topdirs,
    Clflags = global_data.Clflags,
    Stdlib_Sys = global_data.Stdlib__Sys,
    Dune_exe_Ppx_support = global_data.Dune__exe__Ppx_support,
    Toploop = global_data.Toploop,
    Stdlib_Filename = global_data.Stdlib__Filename,
    Js_of_ocaml_Typed_array = global_data.Js_of_ocaml__Typed_array,
    Js_of_ocaml_lwt = global_data.Js_of_ocaml_lwt,
    _a_ =
      [0, [11, "Could not load ", [2, 0, [12, 10, 0]]], "Could not load %s\n"],
    _b_ = [0, cst$13],
    _c_ =
      [0,
       [11, "error while evaluating ", [2, 0, [17, 4, 0]]],
       "error while evaluating %s@."];
   function by_id(s, cont){
    return caml_cps_call2(Js_of_ocaml_Dom_html[6], s, cont);
   }
   function by_id_coerce(s, f, cont){
    function _cq_(param, cont){
     var _ct_ = Stdlib[8], raise = caml_pop_trap();
     return raise(caml_maybe_attach_backtrace(_ct_, 1));
    }
    return caml_cps_call2
            (Js_of_ocaml_Dom_html[6],
             s,
             function(_cr_){
              return caml_cps_call2
                      (f,
                       _cr_,
                       function(_cs_){
                        return caml_cps_call3
                                (Js_of_ocaml_Js[5][8], _cs_, _cq_, cont);
                       });
             });
   }
   function load_resource(scheme, prefix, suffix, cont){
    return caml_cps_call3
            (Stdlib[28],
             scheme,
             suffix,
             function(url){
              return caml_cps_call3
                      (Stdlib_Filename[4],
                       prefix,
                       suffix,
                       function(filename){
                        return caml_cps_call2
                                (Lwt[11],
                                 function(param, cont){
                                  function _cn_(frame, cont){
                                   return 200 === frame[2]
   ? caml_cps_call4
     (Js_of_ocaml_Js[5][7],
      frame[4],
      function(param, cont){
       return caml_cps_call3(Stdlib_Printf[3], _a_, filename, cont);
      },
      function(b, cont){
       return caml_cps_call2
               (Js_of_ocaml_Typed_array[51][1],
                b,
                function(_cp_){
                 return caml_cps_call3
                         (Js_of_ocaml_Sys_js[8], filename, _cp_, cont);
                });
      },
      cont)
   : cont(0);
                                  }
                                  return caml_cps_call13
  (Js_of_ocaml_lwt[1][4],
   0,
   0,
   0,
   0,
   0,
   0,
   0,
   0,
   0,
   0,
   0,
   url,
   function(_co_){
    return caml_cps_call3(Lwt[71], _co_, _cn_, cont);
   });
                                 },
                                 function(_cm_){return cont(_b_);});
                       });
             });
   }
   function exec(s, cont){
    return caml_cps_call3
            (Js_of_ocaml_toplevel_JsooTop[1],
             Stdlib_Format[110],
             s,
             function(res){
              var _cl_ = 1 - res;
              return _cl_
                      ? caml_cps_call3(Stdlib_Format[137], _c_, s, cont)
                      : cont(_cl_);
             });
   }
   function split_char(sep, p, cont){
    var len = caml_ml_string_length(p);
    function split(beg, cur, cont){
     var cur$0 = cur;
     for(;;){
      if(len <= cur$0){
       if(0 >= (cur$0 - beg | 0)) return cont(0);
       var _ch_ = 0;
       return caml_cps_call4
               (Stdlib_String[15],
                p,
                beg,
                cur$0 - beg | 0,
                function(_ck_){return cont([0, _ck_, _ch_]);});
      }
      if(sep(caml_string_get(p, cur$0)))
       return caml_cps_exact_call3
               (split,
                cur$0 + 1 | 0,
                cur$0 + 1 | 0,
                function(_ci_){
                 return caml_cps_call4
                         (Stdlib_String[15],
                          p,
                          beg,
                          cur$0 - beg | 0,
                          function(_cj_){return cont([0, _cj_, _ci_]);});
                });
      var cur$1 = cur$0 + 1 | 0, cur$0 = cur$1;
     }
    }
    return caml_cps_exact_call3(split, 0, 0, cont);
   }
   var
    v = Stdlib_Sys[46],
    match =
      caml_callback
       (split_char,
        [function(param){
          var _cg_ = param - 43 | 0;
          a:
          {
           if(2 < _cg_ >>> 0){
            if(83 !== _cg_) break a;
           }
           else if(1 === _cg_) break a;
           return 1;
          }
          return 0;
         },
         v]),
    _v_ =
      [0,
       [11, "exc during Lwt.async: ", [2, 0, [17, 4, 0]]],
       "exc during Lwt.async: %s@."],
    cst_toplevel_container = "toplevel-container",
    cst_output$0 = cst_output$1,
    cst_userinput = "userinput",
    cst_dev_null0 = "/dev/null0",
    cst_dev_null1 = "/dev/null1",
    cst_test_canvas = "test-canvas",
    cst_caml = "caml",
    cst_sharp = cst_sharp$0,
    cst_stdout = "stdout",
    cst_stderr = "stderr",
    cst_code$1 = cst_code$2,
    _u_ = [0, 4003188, 0],
    _t_ = [0, cst_toplevel_ml, 295, 71],
    cst_output = cst_output$1,
    cst_last_js = "last-js",
    cst_Cannot_shorten_url_with_fi = "Cannot shorten url with file scheme",
    _r_ =
      [0,
       [11, "http://is.gd/create.php?format=json&url=", [2, 0, 0]],
       "http://is.gd/create.php?format=json&url=%s"],
    _q_ =
      [0,
       [11, "Could not generate short url. reason: ", [2, 0, [17, 4, 0]]],
       "Could not generate short url. reason: %s@."],
    cst_Share_this_url = "Share this url : ",
    _s_ = [0, cst_toplevel_ml, 243, 21],
    cst_code = cst_code$2,
    cst_code$0 = cst_code$2,
    _o_ = [0, "list-group-item", 0],
    cst_static_examples_ml = "/static/examples.ml",
    _p_ = [0, cst_toplevel_ml, 175, 23],
    cst_toplevel_examples = "toplevel-examples",
    cst_let_print_error_fmt_e_Form =
      "let _print_error fmt e = Format.pp_print_string fmt (Js_of_ocaml.Js_error.to_string e)",
    _m_ = [0, "_print_error"],
    cst_let_print_unit_fmt_a_a_For =
      "let _print_unit fmt (_ : 'a) : 'a = Format.pp_print_string fmt \"()\"",
    _n_ = [0, "_print_unit"],
    _l_ = [0, [4, 0, 0, 0, [11, "px", 0]], "%dpx"],
    cst_open_Stdlib = "open Stdlib",
    cst_module_Lwt_main_struct_let =
      'module Lwt_main = struct\n  let run t = match Lwt.state t with\n    | Lwt.Return x -> x\n    | Lwt.Fail e -> raise e\n    | Lwt.Sleep -> failwith "Lwt_main.run: thread didn\'t return"\n end',
    cst_open_Joy = "open Joy",
    cst_init_svg_axes_true_joy_can = 'init_svg ~axes:true "joy-canvas"',
    _f_ =
      [0,
       [11, "        ", [2, 0, [11, " version ", [12, 37, [12, 115, 0]]]]],
       "        %s version %%s"],
    _g_ =
      [0,
       [11, "     Compiled with Js_of_ocaml version ", [2, 0, 0]],
       "     Compiled with Js_of_ocaml version %s"],
    _h_ =
      [0,
       [11,
        cst_Format_printf,
        [2, 0, [17, 4, [11, '" Sys.ocaml_version;;', 0]]]],
       'Format.printf "%s@." Sys.ocaml_version;;'],
    _i_ =
      [0,
       [11, cst_Format_printf, [2, 0, [17, 4, [11, cst$15, 0]]]],
       cst_Format_printf_s],
    _j_ =
      [0,
       [11, cst_Format_printf, [2, 0, [17, 4, [11, cst$15, 0]]]],
       cst_Format_printf_s],
    cst_enable_pretty = '#enable "pretty";;',
    cst_disable_shortvar = '#disable "shortvar";;',
    _k_ =
      [0, "js_of_ocaml-toplevel-example", "Load the given javascript file"],
    cst_load_js = "load_js",
    _e_ = [0, cst_toplevel_ml, 88, 12],
    cst_dev = "/dev/",
    cst_http = "http://",
    cst_http$0 = "/http/",
    cst_https = "https://",
    cst_https$0 = "/https/",
    cst_ftp = "ftp://",
    cst_ftp$0 = "/ftp/";
   if(! match) throw caml_maybe_attach_backtrace([0, Assert_failure, _e_], 1);
   var
    x = match[1],
    _d_ =
      caml_callback
       (split_char, [function(param){return 46 === param ? 1 : 0;}, x]),
    current =
      caml_callback
       (Stdlib_List[19],
        [function(_cf_, cont){return cont(runtime.caml_int_of_string(_cf_));},
         _d_]);
   function setup_toplevel(param, cont){
    Clflags[19][1] = 1;
    return caml_cps_call2
            (Js_of_ocaml_toplevel_JsooTop[3],
             0,
             function(_b0_){
              Stdlib_Sys[3][1] = 0;
              a:
              {
               b:
               {
                c:
                {
                 var v$1 = current, v = v$0;
                 for(;;){
                  if(! v$1) break;
                  var xs = v$1[2], x = v$1[1];
                  if(! xs && v && ! v[2]) break b;
                  if(! v) break c;
                  var ys = v[2], y = v[1], n = caml_int_compare(x, y);
                  if(0 !== n){var _b1_ = n; break a;}
                  var v$1 = xs, v = ys;
                 }
                 if(v){
                  var y$1 = v[1], _b1_ = caml_int_compare(0, y$1);
                  break a;
                 }
                 var _b1_ = 0;
                 break a;
                }
                var _b1_ = caml_int_compare(x, 0);
                break a;
               }
               var y$0 = v[1], _b1_ = caml_int_compare(x, y$0);
              }
              function _b2_(_b3_){
               return caml_cps_exact_call2
                       (exec,
                        cst_module_Lwt_main_struct_let,
                        function(_b4_){
                         return caml_cps_exact_call2
                                 (exec,
                                  cst_open_Joy,
                                  function(_b5_){
                                   return caml_cps_exact_call2
   (exec,
    cst_init_svg_axes_true_joy_can,
    function(_b6_){
     return caml_cps_call3
             (Stdlib_Printf[4],
              _f_,
              compiler_name,
              function(header1){
               return caml_cps_call3
                       (Stdlib_Printf[4],
                        _g_,
                        Js_of_ocaml_Sys_js[9],
                        function(header2){
                         return caml_cps_call3
                                 (Stdlib_Printf[4],
                                  _h_,
                                  header1,
                                  function(_b7_){
                                   return caml_cps_exact_call2
   (exec,
    _b7_,
    function(_b8_){
     return caml_cps_call3
             (Stdlib_Printf[4],
              _i_,
              header2,
              function(_b9_){
               return caml_cps_exact_call2
                       (exec,
                        _b9_,
                        function(_b__){
                         return caml_cps_call3
                                 (Stdlib_Printf[4],
                                  _j_,
                                  header3,
                                  function(_b$_){
                                   return caml_cps_exact_call2
   (exec,
    _b$_,
    function(_ca_){
     return caml_cps_exact_call2
             (exec,
              cst_enable_pretty,
              function(_cb_){
               return caml_cps_exact_call2
                       (exec,
                        cst_disable_shortvar,
                        function(_cc_){
                         return caml_cps_call2
                                 (Dune_exe_Ppx_support[1],
                                  0,
                                  function(_cd_){
                                   return caml_cps_call4
   (Toploop[7],
    cst_load_js,
    [1,
     function(name, cont){
      return cont(Js_of_ocaml_Js[52][1].load_script(name));
     }],
    _k_,
    function(_ce_){Stdlib_Sys[3][1] = 1; return cont(undef);});
                                  });
                        });
              });
    });
                                  });
                        });
              });
    });
                                  });
                        });
              });
    });
                                  });
                        });
              }
              return 0 <= _b1_
                      ? caml_cps_exact_call2(exec, cst_open_Stdlib, _b2_)
                      : _b2_(0);
             });
   }
   function resize(container, textbox, param, cont){
    function _bW_(param, cont){
     var t4 = textbox.style;
     t4.height = "auto";
     return caml_cps_call3
             (Stdlib[17],
              18,
              textbox.scrollHeight,
              function(_bY_){
               return caml_cps_call3
                       (Stdlib_Printf[4],
                        _l_,
                        _bY_,
                        function(_bZ_){
                         var t7 = caml_jsstring_of_string(_bZ_), t8 = textbox.style;
                         t8.height = t7;
                         var t10 = container.scrollHeight;
                         container.scrollTop = t10;
                         return caml_cps_call2(Lwt[4], 0, cont);
                        });
              });
    }
    return caml_cps_call2
            (Lwt[57],
             0,
             function(_bX_){return caml_cps_call3(Lwt[70], _bX_, _bW_, cont);});
   }
   function parse_hash(param, cont){
    return caml_cps_call2
            (Js_of_ocaml_Url[10][7],
             0,
             function(frag){
              return caml_cps_call2(Js_of_ocaml_Url[7], frag, cont);
             });
   }
   function iter_on_sharp(f, x, cont){
    function _bR_(t19){
     function _bS_(t16, cont){
      var _bV_ = t16.classList.contains(cst_sharp$0) | 0;
      return _bV_ ? caml_cps_exact_call2(f, t16, cont) : cont(_bV_);
     }
     return caml_cps_call2
             (Js_of_ocaml_Dom_html[118][1],
              t19,
              function(_bT_){
               return caml_cps_call3
                       (Js_of_ocaml_Js[5][6],
                        _bT_,
                        _bS_,
                        function(_bU_){
                         return caml_cps_call2
                                 (Js_of_ocaml_Js[5][10],
                                  t19.nextSibling,
                                  function(match){
                                   if(! match) return cont(0);
                                   var n = match[1];
                                   return caml_cps_exact_call1(_bR_, n);
                                  });
                        });
              });
    }
    return _bR_(x);
   }
   var current_position = [0, 0];
   function highlight_location(loc, cont){
    var x = [0, 0];
    return caml_cps_exact_call2
            (by_id,
             cst_output,
             function(output){
              var _bO_ = output.childNodes.item(current_position[1]);
              return caml_cps_call3
                      (Js_of_ocaml_Js[5][8],
                       _bO_,
                       function(param, cont){
                        var raise = caml_pop_trap();
                        return raise
                                (caml_maybe_attach_backtrace([0, Assert_failure, _t_], 1));
                       },
                       function(first){
                        return caml_cps_exact_call3
                                (iter_on_sharp,
                                 function(e, cont){
                                  x[1]++;
                                  return caml_cps_call2
  (Location[10],
   loc[1],
   function(match){
    var col1 = match[3], line1 = match[2];
    return caml_cps_call2
            (Location[10],
             loc[2],
             function(match){
              var
               col2 = match[3],
               line2 = match[2],
               _bP_ = line1 <= x[1] ? 1 : 0,
               _bQ_ = _bP_ ? x[1] <= line2 ? 1 : 0 : _bP_;
              if(! _bQ_) return cont(_bQ_);
              var
               from = x[1] === line1 ? [0, 4003188, col1] : _u_,
               to = x[1] === line2 ? [0, 4003188, col2] : 847656566;
              return caml_cps_call4
                      (Dune_exe_Colorize[3], from, to, e, cont);
             });
   });
                                 },
                                 first,
                                 cont);
                       });
             });
   }
   function append(colorize, output, cl, s, cont){
    return caml_cps_call3
            (colorize,
             cl,
             s,
             function(_bM_){
              return caml_cps_call2
                      (Js_of_ocaml_tyxml_Tyxml_js[9][1],
                       _bM_,
                       function(_bN_){
                        return caml_cps_call3
                                (Js_of_ocaml_Dom[5], output, _bN_, cont);
                       });
             });
   }
   var data = [0, [0, cst$9]], idx = [0, 0];
   function get_storage(param, cont){
    caml_push_trap
     (function(_bK_){
       var _bL_ = Stdlib[8], raise = caml_pop_trap();
       return raise(caml_maybe_attach_backtrace(_bL_, 1));
      });
    var t36 = Js_of_ocaml_Dom_html[8];
    return caml_cps_call2
            (Js_of_ocaml_Js[6][10],
             t36.localStorage,
             function(val){
              caml_pop_trap();
              if(val){var t = val[1]; return cont(t);}
              var _bJ_ = Stdlib[8], raise = caml_pop_trap();
              return raise(caml_maybe_attach_backtrace(_bJ_, 1));
             });
   }
   function current$0(text){
    var _bI_ = idx[1];
    caml_check_bound(data[1], _bI_)[1 + _bI_] = text;
    return;
   }
   var
    t88 =
      caml_callback
       (Js_of_ocaml_Dom_html[10],
        [function(param, cont){
          return caml_cps_exact_call2
                  (by_id,
                   cst_toplevel_container,
                   function(container){
                    return caml_cps_exact_call2
                            (by_id,
                             cst_output$0,
                             function(output){
                              return caml_cps_exact_call3
                                      (by_id_coerce,
                                       cst_userinput,
                                       Js_of_ocaml_Dom_html[118][55],
                                       function(textbox){
return caml_cps_call2
        (Stdlib[60],
         cst_dev_null0,
         function(sharp_chan){
          return caml_cps_call2
                  (Stdlib_Format[108],
                   sharp_chan,
                   function(sharp_ppf){
                    return caml_cps_call2
                            (Stdlib[60],
                             cst_dev_null1,
                             function(caml_chan){
                              return caml_cps_call2
                                      (Stdlib_Format[108],
                                       caml_chan,
                                       function(caml_ppf){
function execute(param, cont){
 var
  content = caml_string_of_jsstring(textbox.value.trim()),
  len = caml_ml_string_length(content);
 try{
  var _bw_ = runtime.caml_string_notequal(content, cst$13);
  if(_bw_)
   var
    _bx_ = 59 !== caml_string_get(content, len - 1 | 0) ? 1 : 0,
    _by_ =
      _bx_
       ? 59 !== caml_string_get(content, len - 2 | 0) ? 1 : 0
       : _bx_;
  else
   var _by_ = _bw_;
  var _bv_ = _by_;
 }
 catch(_bH_){var _bv_ = 1;}
 function _bz_(content$0){
  var t49 = output.childNodes;
  current_position[1] = t49.length;
  textbox.value = cst$13;
  var
   l = data[1].length - 1,
   n = runtime.caml_make_vect(l + 1 | 0, cst$13),
   _bA_ = l - 1 | 0;
  caml_check_bound(data[1], _bA_)[1 + _bA_] = content;
  return caml_cps_call6
          (Stdlib_Array[8],
           data[1],
           0,
           n,
           0,
           l,
           function(_bB_){
            data[1] = n;
            idx[1] = l;
            function _bC_(){
             return caml_cps_call6
                     (Js_of_ocaml_toplevel_JsooTop[2],
                      1,
                      [0, sharp_ppf],
                      [0, highlight_location],
                      caml_ppf,
                      content$0,
                      function(_bE_){
                       function _bF_(param, cont){
                        var t53 = container.scrollHeight;
                        container.scrollTop = t53;
                        textbox.focus();
                        return cont(Lwt[36]);
                       }
                       return caml_cps_exact_call4
                               (resize,
                                container,
                                textbox,
                                undef,
                                function(_bG_){
                                 return caml_cps_call3(Lwt[70], _bG_, _bF_, cont);
                                });
                      });
            }
            caml_push_trap
             (function(_bD_){
               if(_bD_ === Stdlib[8]) return _bC_();
               var raise = caml_pop_trap();
               return raise(caml_maybe_attach_backtrace(_bD_, 0));
              });
            return caml_cps_exact_call2
                    (get_storage,
                     undef,
                     function(s){
                      return caml_cps_call2
                              (Js_of_ocaml_Json[1],
                               data[1],
                               function(str){
                                s.setItem(cst_history, str);
                                caml_pop_trap();
                                return _bC_();
                               });
                     });
           });
 }
 return _bv_
         ? caml_cps_call3(Stdlib[28], content, cst$10, _bz_)
         : _bz_(content);
}
function meta(t60){
 var _bs_ = t60.ctrlKey | 0;
 if(_bs_)
  var _bt_ = _bs_;
 else{
  var _bu_ = t60.altKey | 0;
  if(! _bu_) return t60.metaKey | 0;
  var _bt_ = _bu_;
 }
 return _bt_;
}
return caml_cps_call2
        (Js_of_ocaml_Dom_html[10],
         function(param, cont){
          return caml_cps_call2
                  (Lwt[11],
                   function(_br_, cont){
                    return caml_cps_exact_call4
                            (resize, container, textbox, undef, cont);
                   },
                   function(_bq_){return cont(Js_of_ocaml_Js[7]);});
         },
         function(t64){
          textbox.onkeyup = t64;
          return caml_cps_call2
                  (Js_of_ocaml_Dom_html[10],
                   function(param, cont){
                    return caml_cps_call2
                            (Lwt[11],
                             function(_bp_, cont){
                              return caml_cps_exact_call4
                                      (resize, container, textbox, undef, cont);
                             },
                             function(_bo_){return cont(Js_of_ocaml_Js[7]);});
                   },
                   function(t66){
                    textbox.onchange = t66;
                    return caml_cps_call2
                            (Js_of_ocaml_Dom_html[10],
                             function(t63, cont){
                              var match = t63.keyCode;
                              if(38 <= match){
                               var switcher = match - 75 | 0;
                               if(1 < switcher >>> 0){
                                if(-34 > switcher)
                                 switch(switcher + 37 | 0){
                                   case 1: break;
                                   case 0:
                                    var
                                     txt$0 = caml_string_of_jsstring(textbox.value),
                                     pos$0 = textbox.selectionStart - 1 | 0;
                                    caml_push_trap
                                     (function(_bi_){
                                       if(_bi_ !== Stdlib[8]){
var raise = caml_pop_trap();
return raise(caml_maybe_attach_backtrace(_bi_, 0));
                                       }
                                       current$0(txt$0);
                                       if(0 < idx[1]){
idx[1] += -1;
var
 _bh_ = idx[1],
 t42 =
   caml_jsstring_of_string
    (caml_check_bound(data[1], _bh_)[1 + _bh_]);
textbox.value = t42;
                                       }
                                       return cont(Js_of_ocaml_Js[8]);
                                      });
                                    if(pos$0 >= 0)
                                     return caml_cps_call4
     (Stdlib_String[33],
      txt$0,
      pos$0,
      10,
      function(_bf_){
       var _bg_ = Js_of_ocaml_Js[7];
       caml_pop_trap();
       return cont(_bg_);
      });
                                    var _ba_ = Stdlib[8], raise$0 = caml_pop_trap();
                                    return raise$0(caml_maybe_attach_backtrace(_ba_, 1));
                                   default:
                                    var
                                     txt = caml_string_of_jsstring(textbox.value),
                                     pos = textbox.selectionStart;
                                    caml_push_trap
                                     (function(_be_){
                                       if(_be_ !== Stdlib[8]){
var raise = caml_pop_trap();
return raise(caml_maybe_attach_backtrace(_be_, 0));
                                       }
                                       current$0(txt);
                                       if(idx[1] < (data[1].length - 1 - 1 | 0)){
idx[1]++;
var
 _bd_ = idx[1],
 t44 =
   caml_jsstring_of_string
    (caml_check_bound(data[1], _bd_)[1 + _bd_]);
textbox.value = t44;
                                       }
                                       return cont(Js_of_ocaml_Js[8]);
                                      });
                                    if(caml_ml_string_length(txt) !== pos)
                                     return caml_cps_call4
     (Stdlib_String[31],
      txt,
      pos,
      10,
      function(_bb_){
       var _bc_ = Js_of_ocaml_Js[7];
       caml_pop_trap();
       return cont(_bc_);
      });
                                    var _a$_ = Stdlib[8], raise = caml_pop_trap();
                                    return raise(caml_maybe_attach_backtrace(_a$_, 1));
                                 }
                               }
                               else
                                if(switcher){
                                 if(meta(t63)){
                                  output.innerHTML = cst$13;
                                  return cont(Js_of_ocaml_Js[7]);
                                 }
                                }
                                else if(meta(t63))
                                 return caml_cps_exact_call2
 (setup_toplevel,
  undef,
  function(_bj_){return cont(Js_of_ocaml_Js[8]);});
                              }
                              else{
                               if(9 === match)
                                return caml_cps_call2
(Dune_exe_Indent[1],
 textbox,
 function(_bn_){return cont(Js_of_ocaml_Js[8]);});
                               if(13 === match){
                                if(! meta(t63) && ! (t63.shiftKey | 0))
                                 return caml_cps_call2
 (Lwt[11],
  execute,
  function(_bm_){return cont(Js_of_ocaml_Js[8]);});
                                return caml_cps_call2
(Lwt[11],
 function(_bl_, cont){
  return caml_cps_exact_call4
          (resize, container, textbox, undef, cont);
 },
 function(_bk_){return cont(Js_of_ocaml_Js[7]);});
                               }
                              }
                              return cont(Js_of_ocaml_Js[7]);
                             },
                             function(t71){
                              textbox.onkeydown = t71;
                              Lwt[12][1] =
                               function(exc, cont){
                                return caml_cps_call2
(Stdlib_Printexc[1],
 exc,
 function(_a9_){
  return caml_cps_call3
          (Stdlib_Format[137],
           _v_,
           _a9_,
           function(_a__){
            if(exc[1] !== Js_of_ocaml_Js[37][8]) return cont(0);
            var e = exc[2];
            return caml_cps_call2
                    (Js_of_ocaml_Js[37][10],
                     e,
                     function(t73){
                      return cont(Js_of_ocaml_Firebug[1].log(t73.stack));
                     });
           });
 });
                               };
                              return caml_cps_call2
                                      (Lwt[11],
                                       function(param, cont){
function _a7_(param, cont){
 textbox.focus();
 return cont(Lwt[36]);
}
return caml_cps_exact_call4
        (resize,
         container,
         textbox,
         undef,
         function(_a8_){
          return caml_cps_call3(Lwt[70], _a8_, _a7_, cont);
         });
                                       },
                                       function(_w_){
return caml_cps_exact_call3
        (by_id_coerce,
         cst_test_canvas,
         Js_of_ocaml_Dom_html[118][10],
         function(_x_){
          return caml_cps_call2
                  (Dune_exe_Graphics_support[1],
                   _x_,
                   function(_y_){
                    var _z_ = Dune_exe_Colorize[2];
                    return caml_cps_call3
                            (Js_of_ocaml_Sys_js[1],
                             caml_chan,
                             function(_a6_, cont){
                              return caml_cps_exact_call5
                                      (append, _z_, output, cst_caml, _a6_, cont);
                             },
                             function(_A_){
                              var _B_ = Dune_exe_Colorize[2];
                              return caml_cps_call3
                                      (Js_of_ocaml_Sys_js[1],
                                       sharp_chan,
                                       function(_a5_, cont){
return caml_cps_exact_call5
        (append, _B_, output, cst_sharp, _a5_, cont);
                                       },
                                       function(_C_){
var _D_ = Dune_exe_Colorize[1];
return caml_cps_call3
        (Js_of_ocaml_Sys_js[1],
         Stdlib[39],
         function(_a4_, cont){
          return caml_cps_exact_call5
                  (append, _D_, output, cst_stdout, _a4_, cont);
         },
         function(_E_){
          var _F_ = Dune_exe_Colorize[1];
          return caml_cps_call3
                  (Js_of_ocaml_Sys_js[1],
                   Stdlib[40],
                   function(_a3_, cont){
                    return caml_cps_exact_call5
                            (append, _F_, output, cst_stderr, _a3_, cont);
                   },
                   function(_G_){
                    function readline(param, cont){
                     var
                      _a2_ =
                        Js_of_ocaml_Dom_html[8].prompt
                         ("The toplevel expects inputs:", cst$13);
                     return caml_cps_call4
                             (Js_of_ocaml_Js[5][7],
                              _a2_,
                              function(param, cont){return cont(cst$12);},
                              function(s, cont){
                               return caml_cps_call3
                                       (Stdlib[28], caml_string_of_jsstring(s), cst$11, cont);
                              },
                              cont);
                    }
                    return caml_cps_call3
                            (Js_of_ocaml_Sys_js[2],
                             Stdlib[38],
                             readline,
                             function(_H_){
                              function _I_(){
                               return caml_cps_call2
                                       (Js_of_ocaml_Regexp[1],
cst,
function(r){
 var all = [0, 0];
 caml_push_trap
  (function(_ao_){
    return caml_cps_exact_call2
            (by_id,
             cst_toplevel_examples,
             function(example_container){
              return caml_cps_call4
                      (Stdlib_List[25],
                       function(acc, tok, cont){
                        if(594052472 <= tok[1]){
                         var name = tok[2], _aP_ = 0;
                         return caml_cps_call2
                                 (Js_of_ocaml_tyxml_Tyxml_js[3][221],
                                  name,
                                  function(_aR_){
                                   var _aS_ = [0, _aR_, _aP_], _aT_ = 0;
                                   return caml_cps_call2
   (Js_of_ocaml_tyxml_Tyxml_js[3][63],
    function(param, cont){
     var t13 = caml_jsstring_of_string(acc).trim();
     textbox.value = t13;
     return caml_cps_call2
             (Lwt[11],
              function(param, cont){
               function _a0_(param, cont){
                textbox.focus();
                return cont(Lwt[36]);
               }
               return caml_cps_exact_call4
                       (resize,
                        container,
                        textbox,
                        undef,
                        function(_a1_){
                         return caml_cps_call3(Lwt[70], _a1_, _a0_, cont);
                        });
              },
              function(_aZ_){return cont(1);});
    },
    function(_aU_){
     var _aV_ = [0, _aU_, _aT_];
     return caml_cps_call2
             (Js_of_ocaml_tyxml_Tyxml_js[3][5],
              _o_,
              function(_aW_){
               return caml_cps_call3
                       (Js_of_ocaml_tyxml_Tyxml_js[3][279],
                        [0, [0, _aW_, _aV_]],
                        _aS_,
                        function(a){
                         return caml_cps_call2
                                 (Js_of_ocaml_tyxml_Tyxml_js[9][36],
                                  a,
                                  function(_aX_){
                                   return caml_cps_call3
   (Js_of_ocaml_Dom[5],
    example_container,
    _aX_,
    function(_aY_){return cont(cst$1);});
                                  });
                        });
              });
    });
                                  });
                        }
                        var line = tok[2];
                        return caml_cps_call3
                                (Stdlib[28],
                                 cst$2,
                                 acc,
                                 function(_aQ_){
                                  return caml_cps_call3(Stdlib[28], line, _aQ_, cont);
                                 });
                       },
                       cst$0,
                       all[1],
                       function(_ap_){
                        return caml_cps_call3
                                (Js_of_ocaml_Sys_js[5],
                                 cst_dev,
                                 function(param, _aO_, cont){return cont(0);},
                                 function(_aq_){
                                  return caml_cps_call3
  (Js_of_ocaml_Sys_js[5],
   cst_http$0,
   function(_aM_, _aN_, cont){
    return caml_cps_exact_call4
            (load_resource, cst_http, _aM_, _aN_, cont);
   },
   function(_ar_){
    return caml_cps_call3
            (Js_of_ocaml_Sys_js[5],
             cst_https$0,
             function(_aK_, _aL_, cont){
              return caml_cps_exact_call4
                      (load_resource, cst_https, _aK_, _aL_, cont);
             },
             function(_as_){
              return caml_cps_call3
                      (Js_of_ocaml_Sys_js[5],
                       cst_ftp$0,
                       function(_aI_, _aJ_, cont){
                        return caml_cps_exact_call4
                                (load_resource, cst_ftp, _aI_, _aJ_, cont);
                       },
                       function(_at_){
                        return caml_cps_exact_call2
                                (setup_toplevel,
                                 undef,
                                 function(_au_){
                                  return caml_cps_exact_call2
  (by_id,
   cst_last_js,
   function(t30){
    var t28 = Js_of_ocaml_Js[52][1], runcode = t28.toplevelEval;
    function t31(bc, cont){
     var t29 = caml_jsstring_of_string(bc);
     t30.innerHTML = t29;
     return caml_cps_call2(runcode, bc, cont);
    }
    var t32 = Js_of_ocaml_Js[52][1];
    t32.toplevelEval = t31;
    return caml_cps_exact_call2
            (exec,
             cst_let_print_error_fmt_e_Form,
             function(_av_){
              return caml_cps_call3
                      (Topdirs[8],
                       Stdlib_Format[110],
                       _m_,
                       function(_aw_){
                        return caml_cps_exact_call2
                                (exec,
                                 cst_let_print_unit_fmt_a_a_For,
                                 function(_ax_){
                                  return caml_cps_call3
  (Topdirs[8],
   Stdlib_Format[110],
   _n_,
   function(_ay_){
    function _az_(_aC_){
     textbox.value = cst$13;
     function _aD_(){return cont(Js_of_ocaml_Js[8]);}
     caml_push_trap
      (function(exc){
        return exc === Stdlib[8]
                ? _aD_()
                : caml_cps_call2
                  (Stdlib_Printexc[1],
                   exc,
                   function(_aH_){
                    Js_of_ocaml_Firebug[1].log
                     ("exception", caml_jsstring_of_string(_aH_), exc);
                    return _aD_();
                   });
       });
     return caml_cps_exact_call2
             (parse_hash,
              undef,
              function(_aE_){
               return caml_cps_call3
                       (Stdlib_List[46],
                        cst_code$1,
                        _aE_,
                        function(code){
                         return caml_cps_call3
                                 (Dune_exe_B64[3],
                                  0,
                                  code,
                                  function(_aF_){
                                   var t82 = caml_jsstring_of_string(_aF_);
                                   textbox.value = t82;
                                   return caml_cps_call2
   (Lwt[11],
    execute,
    function(_aG_){caml_pop_trap(); return _aD_();});
                                  });
                        });
              });
    }
    caml_push_trap(_az_);
    return caml_cps_exact_call2
            (get_storage,
             undef,
             function(s){
              var _aA_ = s.getItem(cst_history);
              return caml_cps_call2
                      (Js_of_ocaml_Js[5][10],
                       _aA_,
                       function(match){
                        if(match){
                         var s = match[1];
                         return caml_cps_call2
                                 (Js_of_ocaml_Json[2],
                                  s,
                                  function(a){
                                   data[1] = a;
                                   idx[1] = a.length - 1 - 1 | 0;
                                   caml_pop_trap();
                                   return _az_(0);
                                  });
                        }
                        var _aB_ = Stdlib[8], raise = caml_pop_trap();
                        return raise(caml_maybe_attach_backtrace(_aB_, 1));
                       });
             });
   });
                                 });
                       });
             });
   });
                                 });
                       });
             });
   });
                                 });
                       });
             });
   });
 return caml_cps_call2
         (Stdlib[79],
          cst_static_examples_ml,
          function(ic){
           function _am_(_an_){
            return caml_cps_call2
                    (Stdlib[83],
                     ic,
                     function(line){
                      return caml_cps_call4
                              (Js_of_ocaml_Regexp[7],
                               r,
                               line,
                               0,
                               function(match){
                                if(match){
                                 var res = match[1];
                                 return caml_cps_call3
 (Js_of_ocaml_Regexp[11],
  res,
  1,
  function(match){
   if(match){
    var name = match[1];
    all[1] = [0, [0, 594052472, name], all[1]];
    return caml_cps_exact_call1(_am_, 0);
   }
   var raise = caml_pop_trap();
   return raise
           (caml_maybe_attach_backtrace([0, Assert_failure, _p_], 1));
  });
                                }
                                all[1] = [0, [0, -423054055, line], all[1]];
                                return caml_cps_exact_call1(_am_, 0);
                               });
                     });
           }
           return _am_(0);
          });
});
                              }
                              caml_push_trap
                               (function(_al_){
                                 if(_al_ === Stdlib[8]) return _I_();
                                 var raise = caml_pop_trap();
                                 return raise(caml_maybe_attach_backtrace(_al_, 0));
                                });
                              return caml_cps_call2
                                      (Js_of_ocaml_Dom_html[6],
                                       s,
                                       function(t20){
var t22 = t20.style;
t22.display = "block";
return caml_cps_call2
        (Js_of_ocaml_Dom_html[10],
         function(param, cont){
          var code = [0, 0];
          function _J_(t24, cont){
           var _ai_ = code[1];
           return caml_cps_call4
                   (Js_of_ocaml_Js[5][7],
                    t24.textContent,
                    function(param, cont){return cont(cst$3);},
                    function(_ak_, cont){
                     return cont(caml_string_of_jsstring(_ak_));
                    },
                    function(_aj_){code[1] = [0, _aj_, _ai_]; return cont(0);});
          }
          return caml_cps_call3
                  (Js_of_ocaml_Js[5][6],
                   output.firstChild,
                   function(_ah_, cont){
                    return caml_cps_exact_call3(iter_on_sharp, _J_, _ah_, cont);
                   },
                   function(_K_){
                    return caml_cps_call2
                            (Stdlib_List[9],
                             code[1],
                             function(_L_){
                              return caml_cps_call3
                                      (Stdlib_String[6],
                                       cst$4,
                                       _L_,
                                       function(_M_){
return caml_cps_call4
        (Dune_exe_B64[4],
         0,
         0,
         _M_,
         function(code_encoded){
          return caml_cps_call2
                  (Js_of_ocaml_Url[10][9],
                   0,
                   function(match){
                    if(match){
                     var match$0 = match[1];
                     switch(match$0[0]){
                       case 0:
                        var
                         url = match$0[1],
                         is_file = 0,
                         url$0 =
                           [0, [0, url[1], url[2], url[3], url[4], url[5], cst$5]];
                        break;
                       case 1:
                        var
                         url$1 = match$0[1],
                         is_file = 0,
                         url$0 =
                           [1,
                            [0, url$1[1], url$1[2], url$1[3], url$1[4], url$1[5], cst$7]];
                        break;
                       default:
                        var
                         url$2 = match$0[1],
                         is_file = 1,
                         url$0 = [2, [0, url$2[1], url$2[2], url$2[3], cst$8]];
                     }
                     return caml_cps_exact_call2
                             (parse_hash,
                              undef,
                              function(frags){
                               var _N_ = [0, [0, cst_code, code_encoded], 0];
                               return caml_cps_call3
                                       (Stdlib_List[52],
cst_code$0,
frags,
function(_O_){
 return caml_cps_call3
         (Stdlib[37],
          _O_,
          _N_,
          function(frags){
           return caml_cps_call2
                   (Js_of_ocaml_Url[6],
                    frags,
                    function(frag){
                     return caml_cps_call3
                             (Stdlib[28],
                              cst$6,
                              frag,
                              function(_P_){
                               return caml_cps_call2
                                       (Js_of_ocaml_Url[9],
url$0,
function(_Q_){
 return caml_cps_call3
         (Stdlib[28],
          _Q_,
          _P_,
          function(uri){
           function append_url(str, cont){
            var _Z_ = 0, ___ = 0;
            return caml_cps_call2
                    (Js_of_ocaml_tyxml_Tyxml_js[3][221],
                     str,
                     function(_$_){
                      var _aa_ = [0, _$_, ___], _ab_ = 0;
                      return caml_cps_call2
                              (Js_of_ocaml_tyxml_Tyxml_js[3][153],
                               str,
                               function(_ac_){
                                return caml_cps_call3
(Js_of_ocaml_tyxml_Tyxml_js[3][279],
 [0, [0, _ac_, _ab_]],
 _aa_,
 function(_ad_){
  var _ae_ = [0, _ad_, _Z_];
  return caml_cps_call2
          (Js_of_ocaml_tyxml_Tyxml_js[3][221],
           cst_Share_this_url,
           function(_af_){
            return caml_cps_call3
                    (Js_of_ocaml_tyxml_Tyxml_js[3][243],
                     0,
                     [0, _af_, _ae_],
                     function(dom){
                      return caml_cps_call2
                              (Js_of_ocaml_tyxml_Tyxml_js[9][1],
                               dom,
                               function(_ag_){
                                return caml_cps_call3
(Js_of_ocaml_Dom[5], output, _ag_, cont);
                               });
                     });
           });
 });
                               });
                     });
           }
           return caml_cps_call2
                   (Lwt[11],
                    function(param, cont){
                     return caml_cps_call3
                             (Lwt[7],
                              function(param, cont){
                               return is_file
                                       ? caml_cps_call2
 (Stdlib[2], cst_Cannot_shorten_url_with_fi, cont)
                                       : caml_cps_call3
 (Js_of_ocaml_Url[2],
  0,
  uri,
  function(_V_){
   return caml_cps_call3
           (Stdlib_Printf[4],
            _r_,
            _V_,
            function(uri){
             function _W_(t25, cont){
              var str = caml_string_of_jsstring(t25.shorturl);
              return caml_cps_exact_call2
                      (append_url, str, function(_Y_){return cont(Lwt[36]);});
             }
             return caml_cps_call5
                     (Js_of_ocaml_lwt_Lwt_jsonp[1],
                      0,
                      0,
                      0,
                      uri,
                      function(_X_){
                       return caml_cps_call3(Lwt[6], _X_, _W_, cont);
                      });
            });
  });
                              },
                              function(exn, cont){
                               return caml_cps_call2
                                       (Stdlib_Printexc[1],
exn,
function(_S_){
 return caml_cps_call3
         (Stdlib_Format[137],
          _q_,
          _S_,
          function(_T_){
           return caml_cps_exact_call2
                   (append_url, uri, function(_U_){return cont(Lwt[36]);});
          });
});
                              },
                              cont);
                    },
                    function(_R_){return cont(Js_of_ocaml_Js[8]);});
          });
});
                              });
                    });
          });
});
                              });
                    }
                    var raise = caml_pop_trap();
                    return raise
                            (caml_maybe_attach_backtrace([0, Assert_failure, _s_], 1));
                   });
         });
                                       });
                             });
                   });
         },
         function(t26){
          t20.onclick = t26;
          caml_pop_trap();
          return _I_();
         });
                                       });
                             });
                   });
         });
                                       });
                             });
                   });
         });
                                       });
                             });
                   });
         });
                                       });
                             });
                   });
         });
                                       });
                             });
                   });
         }]),
    t89 = Js_of_ocaml_Dom_html[8];
   t89.onload = t88;
   var Dune_exe_Toplevel = [0];
   runtime.caml_register_global(182, Dune_exe_Toplevel, "Dune__exe__Toplevel");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiIudG9wbGV2ZWwuZW9ianMvanNvby9kdW5lX19leGVfX1RvcGxldmVsLmNtby5qcyIsInNvdXJjZVJvb3QiOiIiLCJuYW1lcyI6WyJzIiwidiQwIiwiaGVhZGVyMyIsImNvbXBpbGVyX25hbWUiLCJieV9pZCIsImJ5X2lkX2NvZXJjZSIsImYiLCJsb2FkX3Jlc291cmNlIiwic2NoZW1lIiwicHJlZml4Iiwic3VmZml4IiwidXJsIiwiZmlsZW5hbWUiLCJmcmFtZSIsImIiLCJleGVjIiwicmVzIiwic3BsaXRfY2hhciIsInNlcCIsInAiLCJsZW4iLCJzcGxpdCIsImJlZyIsImN1ciIsImN1ciQwIiwiY3VyJDEiLCJ2IiwieCIsImN1cnJlbnQiLCJzZXR1cF90b3BsZXZlbCIsInYkMSIsInhzIiwieXMiLCJ5IiwibiIsInkkMSIsInkkMCIsImhlYWRlcjEiLCJoZWFkZXIyIiwibmFtZSIsInJlc2l6ZSIsInBhcnNlX2hhc2giLCJmcmFnIiwiaXRlcl9vbl9zaGFycCIsInQxNiIsImN1cnJlbnRfcG9zaXRpb24iLCJoaWdobGlnaHRfbG9jYXRpb24iLCJsb2MiLCJmaXJzdCIsImUiLCJjb2wxIiwibGluZTEiLCJjb2wyIiwibGluZTIiLCJmcm9tIiwidG8iLCJhcHBlbmQiLCJjb2xvcml6ZSIsIm91dHB1dCIsImNsIiwiZGF0YSIsImlkeCIsImdldF9zdG9yYWdlIiwidCIsImN1cnJlbnQkMCIsInRleHQiLCJzaGFycF9jaGFuIiwic2hhcnBfcHBmIiwiY2FtbF9jaGFuIiwiY2FtbF9wcGYiLCJleGVjdXRlIiwiY29udGVudCIsImNvbnRlbnQkMCIsImwiLCJzdHIiLCJtZXRhIiwidDYzIiwidHh0JDAiLCJwb3MkMCIsInR4dCIsInBvcyIsImV4YyIsInJlYWRsaW5lIiwiciIsImFsbCIsImV4YW1wbGVfY29udGFpbmVyIiwiYWNjIiwidG9rIiwiYSIsImxpbmUiLCJydW5jb2RlIiwiYmMiLCJjb2RlIiwiaWMiLCJjb2RlX2VuY29kZWQiLCJpc19maWxlIiwidXJsJDAiLCJ1cmwkMSIsInVybCQyIiwiZnJhZ3MiLCJ1cmkiLCJhcHBlbmRfdXJsIiwiZG9tIiwiZXhuIl0sInNvdXJjZXMiOlsiL3dvcmtzcGFjZV9yb290L3RvcGxldmVsLm1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFpQ2FBOzs7OztJQW9FT0M7SUE4QmRDO0lBekdGQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBRUFDLE1BQU1KO0lBQUksT0FBQSx3Q0FBSkE7R0FBNkI7WUFFbkNLLGFBQWFMLEdBQUVNO0lBQ2pCO0tBQXNELElBQUE7S0FBQTtJQUFlO0lBQXZELE9BQUE7O2FBRENOOztjQUNKLE9BQUE7dUJBRE1NOzs7d0JBQzBCLE9BQUE7Ozs7R0FBMkI7WUFpQnBFQyxjQUFjQyxRQUFRQyxRQUFhQztJQUNyQyxPQUFVOzthQURNRjthQUFxQkU7c0JBWlJDO2NBY2QsT0FBQTs7dUJBRlNGO3VCQUFhQztnQ0FaakJFO3dCQWVwQixPQUFBOzs7Z0RBYlFDO21DQUNSLGVBRFFBO0tBTUo7O01BTklBOztPQUtPLE9BTmYsc0NBRG9CRDtNQU93QztlQUNuREU7T0FDSCxPQUEyQzs7Z0JBRHhDQTs7aUJBQ3dDLE9BQUE7aURBVDdCRjs7TUFTa0U7OztrQ0FDL0U7a0NBVFAsT0FBQTs7Ozs7Ozs7Ozs7OztHQUQ2QkQ7O0lBRXpCLE9BQUE7O2lDQWErQztnREFBbkQ7OztHQUNPO1lBU0xJLEtBQU1mO0lBQ1IsT0FBaUI7OzthQURUQTtzQkFDSmdCO2NBQ0osZUFESUE7O3dCQUNZLHdDQUZSaEI7OztHQUVzRDtZQUsxRGlCLFdBQVlDLEtBQUlDO0lBQ2xCLElBQUlDLDRCQURjRDthQUVWRSxNQUFNQyxLQUFJQztLQUNo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QTtvQkExQkpGLFlBREFELG1CQTJCSTs7OzhCQUNlOztvQkFBQztrQ0FwQnhCOzs7Ozs7Ozs7O29CQWZTOzs7Ozs7O1NBb0NBOztVOztVQXJQRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1NBOGNOO0lBRmI7O0dBREY7OztFIiwic291cmNlc0NvbnRlbnQiOlsiKCogSnNfb2Zfb2NhbWwgdG9wbGV2ZWxcbiAqIGh0dHA6Ly93d3cub2NzaWdlbi5vcmcvanNfb2Zfb2NhbWwvXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTEgSsOpcsO0bWUgVm91aWxsb25cbiAqIExhYm9yYXRvaXJlIFBQUyAtIENOUlMgVW5pdmVyc2l0w6kgUGFyaXMgRGlkZXJvdFxuICpcbiAqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIHdpdGggbGlua2luZyBleGNlcHRpb247XG4gKiBlaXRoZXIgdmVyc2lvbiAyLjEgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZVxuICogRm91bmRhdGlvbiwgSW5jLiwgNTkgVGVtcGxlIFBsYWNlIC0gU3VpdGUgMzMwLCBCb3N0b24sIE1BIDAyMTExLTEzMDcsIFVTQS5cbiAqKVxuXG5vcGVuIEpzX29mX29jYW1sXG5vcGVuIEpzX29mX29jYW1sX2x3dFxub3BlbiBKc19vZl9vY2FtbF90eXhtbFxub3BlbiBKc19vZl9vY2FtbF90b3BsZXZlbFxub3BlbiBMd3RcblxubGV0IGNvbXBpbGVyX25hbWUgPSBcIk9DYW1sXCJcblxubGV0IGJ5X2lkIHMgPSBEb21faHRtbC5nZXRFbGVtZW50QnlJZCBzXG5cbmxldCBieV9pZF9jb2VyY2UgcyBmID1cbiAgSnMuT3B0LmdldCAoZiAoRG9tX2h0bWwuZ2V0RWxlbWVudEJ5SWQgcykpIChmdW4gKCkgLT4gcmFpc2UgTm90X2ZvdW5kKVxuXG5sZXQgZG9fYnlfaWQgcyBmID0gdHJ5IGYgKERvbV9odG1sLmdldEVsZW1lbnRCeUlkIHMpIHdpdGggTm90X2ZvdW5kIC0+ICgpXG5cbigqIGxvYWQgZmlsZSB1c2luZyBhIHN5bmNocm9ub3VzIFhNTEh0dHBSZXF1ZXN0ICopXG5sZXQgbG9hZF9yZXNvdXJjZV9hdXggZmlsZW5hbWUgdXJsID1cbiAgSnNfb2Zfb2NhbWxfbHd0LlhtbEh0dHBSZXF1ZXN0LnBlcmZvcm1fcmF3IH5yZXNwb25zZV90eXBlOlhtbEh0dHBSZXF1ZXN0LkFycmF5QnVmZmVyIHVybFxuICA+fD0gZnVuIGZyYW1lIC0+XG4gIGlmIGZyYW1lLkpzX29mX29jYW1sX2x3dC5YbWxIdHRwUmVxdWVzdC5jb2RlID0gMjAwXG4gIHRoZW5cbiAgICBKcy5PcHQuY2FzZVxuICAgICAgZnJhbWUuSnNfb2Zfb2NhbWxfbHd0LlhtbEh0dHBSZXF1ZXN0LmNvbnRlbnRcbiAgICAgIChmdW4gKCkgLT4gUHJpbnRmLmVwcmludGYgXCJDb3VsZCBub3QgbG9hZCAlc1xcblwiIGZpbGVuYW1lKVxuICAgICAgKGZ1biBiIC0+XG4gICAgICAgIFN5c19qcy51cGRhdGVfZmlsZSB+bmFtZTpmaWxlbmFtZSB+Y29udGVudDooVHlwZWRfYXJyYXkuU3RyaW5nLm9mX2FycmF5QnVmZmVyIGIpKVxuICBlbHNlICgpXG5cbmxldCBsb2FkX3Jlc291cmNlIHNjaGVtZSB+cHJlZml4IH5wYXRoOnN1ZmZpeCA9XG4gIGxldCB1cmwgPSBzY2hlbWUgXiBzdWZmaXggaW5cbiAgbGV0IGZpbGVuYW1lID0gRmlsZW5hbWUuY29uY2F0IHByZWZpeCBzdWZmaXggaW5cbiAgTHd0LmFzeW5jIChmdW4gKCkgLT4gbG9hZF9yZXNvdXJjZV9hdXggZmlsZW5hbWUgdXJsKTtcbiAgU29tZSBcIlwiXG5cbmxldCBzZXR1cF9wc2V1ZG9fZnMgfmxvYWRfY21pc19mcm9tX3NlcnZlciA9XG4gIFN5c19qcy5tb3VudCB+cGF0aDpcIi9kZXYvXCIgKGZ1biB+cHJlZml4Ol8gfnBhdGg6XyAtPiBOb25lKTtcbiAgU3lzX2pzLm1vdW50IH5wYXRoOlwiL2h0dHAvXCIgKGxvYWRfcmVzb3VyY2UgXCJodHRwOi8vXCIpO1xuICBTeXNfanMubW91bnQgfnBhdGg6XCIvaHR0cHMvXCIgKGxvYWRfcmVzb3VyY2UgXCJodHRwczovL1wiKTtcbiAgU3lzX2pzLm1vdW50IH5wYXRoOlwiL2Z0cC9cIiAobG9hZF9yZXNvdXJjZSBcImZ0cDovL1wiKTtcbiAgaWYgbG9hZF9jbWlzX2Zyb21fc2VydmVyIHRoZW4gU3lzX2pzLm1vdW50IH5wYXRoOlwiL2hvbWUvXCIgKGxvYWRfcmVzb3VyY2UgXCJmaWxlc3lzL1wiKVxuXG5sZXQgZXhlYycgcyA9XG4gIGxldCByZXMgOiBib29sID0gSnNvb1RvcC51c2UgRm9ybWF0LnN0ZF9mb3JtYXR0ZXIgcyBpblxuICBpZiBub3QgcmVzIHRoZW4gRm9ybWF0LmVwcmludGYgXCJlcnJvciB3aGlsZSBldmFsdWF0aW5nICVzQC5cIiBzXG5cbm1vZHVsZSBWZXJzaW9uID0gc3RydWN0XG4gIHR5cGUgdCA9IGludCBsaXN0XG5cbiAgbGV0IHNwbGl0X2NoYXIgfnNlcCBwID1cbiAgICBsZXQgbGVuID0gU3RyaW5nLmxlbmd0aCBwIGluXG4gICAgbGV0IHJlYyBzcGxpdCBiZWcgY3VyID1cbiAgICAgIGlmIGN1ciA+PSBsZW5cbiAgICAgIHRoZW4gaWYgY3VyIC0gYmVnID4gMCB0aGVuIFsgU3RyaW5nLnN1YiBwIGJlZyAoY3VyIC0gYmVnKSBdIGVsc2UgW11cbiAgICAgIGVsc2UgaWYgc2VwIHAuW2N1cl1cbiAgICAgIHRoZW4gU3RyaW5nLnN1YiBwIGJlZyAoY3VyIC0gYmVnKSA6OiBzcGxpdCAoY3VyICsgMSkgKGN1ciArIDEpXG4gICAgICBlbHNlIHNwbGl0IGJlZyAoY3VyICsgMSlcbiAgICBpblxuICAgIHNwbGl0IDAgMFxuXG4gIGxldCBzcGxpdCB2ID1cbiAgICBtYXRjaFxuICAgICAgc3BsaXRfY2hhclxuICAgICAgICB+c2VwOihmdW5jdGlvblxuICAgICAgICAgIHwgJysnIHwgJy0nIHwgJ34nIC0+IHRydWVcbiAgICAgICAgICB8IF8gLT4gZmFsc2UpXG4gICAgICAgIHZcbiAgICB3aXRoXG4gICAgfCBbXSAtPiBhc3NlcnQgZmFsc2VcbiAgICB8IHggOjogXyAtPlxuICAgICAgICBMaXN0Lm1hcFxuICAgICAgICAgIGludF9vZl9zdHJpbmdcbiAgICAgICAgICAoc3BsaXRfY2hhclxuICAgICAgICAgICAgIH5zZXA6KGZ1bmN0aW9uXG4gICAgICAgICAgICAgICB8ICcuJyAtPiB0cnVlXG4gICAgICAgICAgICAgICB8IF8gLT4gZmFsc2UpXG4gICAgICAgICAgICAgeClcblxuICBsZXQgY3VycmVudCA6IHQgPSBzcGxpdCBTeXMub2NhbWxfdmVyc2lvblxuXG4gIGxldCBjb21waW50IChhIDogaW50KSBiID0gY29tcGFyZSBhIGJcblxuICBsZXQgcmVjIGNvbXBhcmUgdiB2JyA9XG4gICAgbWF0Y2ggdiwgdicgd2l0aFxuICAgIHwgWyB4IF0sIFsgeSBdIC0+IGNvbXBpbnQgeCB5XG4gICAgfCBbXSwgW10gLT4gMFxuICAgIHwgW10sIHkgOjogXyAtPiBjb21waW50IDAgeVxuICAgIHwgeCA6OiBfLCBbXSAtPiBjb21waW50IHggMFxuICAgIHwgeCA6OiB4cywgeSA6OiB5cyAtPiAoXG4gICAgICAgIG1hdGNoIGNvbXBpbnQgeCB5IHdpdGhcbiAgICAgICAgfCAwIC0+IGNvbXBhcmUgeHMgeXNcbiAgICAgICAgfCBuIC0+IG4pXG5lbmRcblxubGV0IHNldHVwX3RvcGxldmVsICgpID1cbiAgQ2xmbGFncy5kZWJ1ZyA6PSB0cnVlO1xuICBKc29vVG9wLmluaXRpYWxpemUgKCk7XG4gIFN5cy5pbnRlcmFjdGl2ZSA6PSBmYWxzZTtcbiAgaWYgVmVyc2lvbi5jb21wYXJlIFZlcnNpb24uY3VycmVudCBbIDQ7IDA3IF0gPj0gMCB0aGVuIGV4ZWMnIFwib3BlbiBTdGRsaWJcIjtcbiAgZXhlYydcbiAgICBcIm1vZHVsZSBMd3RfbWFpbiA9IHN0cnVjdFxcblxcXG4gICAgXFwgIGxldCBydW4gdCA9IG1hdGNoIEx3dC5zdGF0ZSB0IHdpdGhcXG5cXFxuICAgIFxcICAgIHwgTHd0LlJldHVybiB4IC0+IHhcXG5cXFxuICAgIFxcICAgIHwgTHd0LkZhaWwgZSAtPiByYWlzZSBlXFxuXFxcbiAgICBcXCAgICB8IEx3dC5TbGVlcCAtPiBmYWlsd2l0aCBcXFwiTHd0X21haW4ucnVuOiB0aHJlYWQgZGlkbid0IHJldHVyblxcXCJcXG5cXFxuICAgIFxcIGVuZFwiO1xuICBleGVjJyBcIm9wZW4gSm95XCI7XG4gIGV4ZWMnIFwiaW5pdF9zdmcgfmF4ZXM6dHJ1ZSBcXFwiam95LWNhbnZhc1xcXCJcIjtcbiAgbGV0IGhlYWRlcjEgPSBQcmludGYuc3ByaW50ZiBcIiAgICAgICAgJXMgdmVyc2lvbiAlJXNcIiBjb21waWxlcl9uYW1lIGluXG4gIGxldCBoZWFkZXIyID1cbiAgICBQcmludGYuc3ByaW50ZiBcIiAgICAgQ29tcGlsZWQgd2l0aCBKc19vZl9vY2FtbCB2ZXJzaW9uICVzXCIgU3lzX2pzLmpzX29mX29jYW1sX3ZlcnNpb25cbiAgaW5cbiAgbGV0IGhlYWRlcjMgPSBcIiAgICAgSm95ICh+ZGV2KVwiIGluXG4gIGV4ZWMnIChQcmludGYuc3ByaW50ZiBcIkZvcm1hdC5wcmludGYgXFxcIiVzQC5cXFwiIFN5cy5vY2FtbF92ZXJzaW9uOztcIiBoZWFkZXIxKTtcbiAgZXhlYycgKFByaW50Zi5zcHJpbnRmIFwiRm9ybWF0LnByaW50ZiBcXFwiJXNALlxcXCI7O1wiIGhlYWRlcjIpO1xuICBleGVjJyAoUHJpbnRmLnNwcmludGYgXCJGb3JtYXQucHJpbnRmIFxcXCIlc0AuXFxcIjs7XCIgaGVhZGVyMyk7XG4gIGV4ZWMnIFwiI2VuYWJsZSBcXFwicHJldHR5XFxcIjs7XCI7XG4gIGV4ZWMnIFwiI2Rpc2FibGUgXFxcInNob3J0dmFyXFxcIjs7XCI7XG4gIFBweF9zdXBwb3J0LmluaXQgKCk7XG4gIFRvcGxvb3AuYWRkX2RpcmVjdGl2ZVxuICAgIFwibG9hZF9qc1wiXG4gICAgKFRvcGxvb3AuRGlyZWN0aXZlX3N0cmluZyAoZnVuIG5hbWUgLT4gSnMuVW5zYWZlLmdsb2JhbCMjbG9hZF9zY3JpcHRfIG5hbWUpKVxuICAgIHsgc2VjdGlvbiA9IFwianNfb2Zfb2NhbWwtdG9wbGV2ZWwtZXhhbXBsZVwiOyBkb2MgPSBcIkxvYWQgdGhlIGdpdmVuIGphdmFzY3JpcHQgZmlsZVwiIH07XG4gIFN5cy5pbnRlcmFjdGl2ZSA6PSB0cnVlO1xuICAoKVxuXG5sZXQgcmVzaXplIH5jb250YWluZXIgfnRleHRib3ggKCkgPVxuICBMd3QucGF1c2UgKClcbiAgPj49IGZ1biAoKSAtPlxuICB0ZXh0Ym94IyMuc3R5bGUjIy5oZWlnaHQgOj0gSnMuc3RyaW5nIFwiYXV0b1wiO1xuICB0ZXh0Ym94IyMuc3R5bGUjIy5oZWlnaHRcbiAgOj0gSnMuc3RyaW5nIChQcmludGYuc3ByaW50ZiBcIiVkcHhcIiAobWF4IDE4IHRleHRib3gjIy5zY3JvbGxIZWlnaHQpKTtcbiAgY29udGFpbmVyIyMuc2Nyb2xsVG9wIDo9IGNvbnRhaW5lciMjLnNjcm9sbEhlaWdodDtcbiAgTHd0LnJldHVybiAoKVxuXG5sZXQgc2V0dXBfcHJpbnRlcnMgKCkgPVxuICBleGVjJ1xuICAgIFwibGV0IF9wcmludF9lcnJvciBmbXQgZSA9IEZvcm1hdC5wcF9wcmludF9zdHJpbmcgZm10IChKc19vZl9vY2FtbC5Kc19lcnJvci50b19zdHJpbmcgXFxcbiAgICAgZSlcIjtcbiAgVG9wZGlycy5kaXJfaW5zdGFsbF9wcmludGVyIEZvcm1hdC5zdGRfZm9ybWF0dGVyIExvbmdpZGVudC4oTGlkZW50IFwiX3ByaW50X2Vycm9yXCIpO1xuICBleGVjJyBcImxldCBfcHJpbnRfdW5pdCBmbXQgKF8gOiAnYSkgOiAnYSA9IEZvcm1hdC5wcF9wcmludF9zdHJpbmcgZm10IFxcXCIoKVxcXCJcIjtcbiAgVG9wZGlycy5kaXJfaW5zdGFsbF9wcmludGVyIEZvcm1hdC5zdGRfZm9ybWF0dGVyIExvbmdpZGVudC4oTGlkZW50IFwiX3ByaW50X3VuaXRcIilcblxubGV0IHNldHVwX2V4YW1wbGVzIH5jb250YWluZXIgfnRleHRib3ggPVxuICBsZXQgciA9IFJlZ2V4cC5yZWdleHAgXCJeXFxcXChcXFxcKisoLiopXFxcXCorXFxcXCkkXCIgaW5cbiAgbGV0IGFsbCA9IHJlZiBbXSBpblxuICAodHJ5XG4gICAgIGxldCBpYyA9IG9wZW5faW4gXCIvc3RhdGljL2V4YW1wbGVzLm1sXCIgaW5cbiAgICAgd2hpbGUgdHJ1ZSBkb1xuICAgICAgIGxldCBsaW5lID0gaW5wdXRfbGluZSBpYyBpblxuICAgICAgIG1hdGNoIFJlZ2V4cC5zdHJpbmdfbWF0Y2ggciBsaW5lIDAgd2l0aFxuICAgICAgIHwgU29tZSByZXMgLT5cbiAgICAgICAgICAgbGV0IG5hbWUgPVxuICAgICAgICAgICAgIG1hdGNoIFJlZ2V4cC5tYXRjaGVkX2dyb3VwIHJlcyAxIHdpdGhcbiAgICAgICAgICAgICB8IFNvbWUgcyAtPiBzXG4gICAgICAgICAgICAgfCBOb25lIC0+IGFzc2VydCBmYWxzZVxuICAgICAgICAgICBpblxuICAgICAgICAgICBhbGwgOj0gYFRpdGxlIG5hbWUgOjogIWFsbFxuICAgICAgIHwgTm9uZSAtPiBhbGwgOj0gYENvbnRlbnQgbGluZSA6OiAhYWxsXG4gICAgIGRvbmU7XG4gICAgIGFzc2VydCBmYWxzZVxuICAgd2l0aCBfIC0+ICgpKTtcbiAgbGV0IGV4YW1wbGVfY29udGFpbmVyID0gYnlfaWQgXCJ0b3BsZXZlbC1leGFtcGxlc1wiIGluXG4gIGxldCBfID1cbiAgICBMaXN0LmZvbGRfbGVmdFxuICAgICAgKGZ1biBhY2MgdG9rIC0+XG4gICAgICAgIG1hdGNoIHRvayB3aXRoXG4gICAgICAgIHwgYENvbnRlbnQgbGluZSAtPiBsaW5lIF4gXCJcXG5cIiBeIGFjY1xuICAgICAgICB8IGBUaXRsZSBuYW1lIC0+XG4gICAgICAgICAgICBsZXQgYSA9XG4gICAgICAgICAgICAgIFR5eG1sX2pzLkh0bWwuKFxuICAgICAgICAgICAgICAgIGFcbiAgICAgICAgICAgICAgICAgIH5hOlxuICAgICAgICAgICAgICAgICAgICBbIGFfY2xhc3MgWyBcImxpc3QtZ3JvdXAtaXRlbVwiIF1cbiAgICAgICAgICAgICAgICAgICAgOyBhX29uY2xpY2sgKGZ1biBfIC0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRib3gjIy52YWx1ZSA6PSAoSnMuc3RyaW5nIGFjYykjI3RyaW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEx3dC5hc3luYyAoZnVuICgpIC0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpemUgfmNvbnRhaW5lciB+dGV4dGJveCAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPj49IGZ1biAoKSAtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGJveCMjZm9jdXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMd3QucmV0dXJuX3VuaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICBbIHR4dCBuYW1lIF0pXG4gICAgICAgICAgICBpblxuICAgICAgICAgICAgRG9tLmFwcGVuZENoaWxkIGV4YW1wbGVfY29udGFpbmVyIChUeXhtbF9qcy5Ub19kb20ub2ZfYSBhKTtcbiAgICAgICAgICAgIFwiXCIpXG4gICAgICBcIlwiXG4gICAgICAhYWxsXG4gIGluXG4gICgpXG5cbigqIHdlIG5lZWQgdG8gY29tcHV0ZSB0aGUgaGFzaCBmb3JtIGhyZWYgdG8gYXZvaWQgZGlmZmVyZW50IGVuY29kaW5nIGJlaGF2aW9yXG4gICAgIGFjcm9zcyBicm93c2VyLiBzZWUgVXJsLmdldF9mcmFnbWVudCAqKVxubGV0IHBhcnNlX2hhc2ggKCkgPVxuICBsZXQgZnJhZyA9IFVybC5DdXJyZW50LmdldF9mcmFnbWVudCAoKSBpblxuICBVcmwuZGVjb2RlX2FyZ3VtZW50cyBmcmFnXG5cbmxldCByZWMgaXRlcl9vbl9zaGFycCB+ZiB4ID1cbiAgSnMuT3B0Lml0ZXIgKERvbV9odG1sLkNvZXJjZVRvLmVsZW1lbnQgeCkgKGZ1biBlIC0+XG4gICAgICBpZiBKcy50b19ib29sIChlIyMuY2xhc3NMaXN0IyNjb250YWlucyAoSnMuc3RyaW5nIFwic2hhcnBcIikpIHRoZW4gZiBlKTtcbiAgbWF0Y2ggSnMuT3B0LnRvX29wdGlvbiB4IyMubmV4dFNpYmxpbmcgd2l0aFxuICB8IE5vbmUgLT4gKClcbiAgfCBTb21lIG4gLT4gaXRlcl9vbl9zaGFycCB+ZiBuXG5cbmxldCBzZXR1cF9zaGFyZV9idXR0b24gfm91dHB1dCA9XG4gIGRvX2J5X2lkIFwiYnRuLXNoYXJlXCIgKGZ1biBlIC0+XG4gICAgICBlIyMuc3R5bGUjIy5kaXNwbGF5IDo9IEpzLnN0cmluZyBcImJsb2NrXCI7XG4gICAgICBlIyMub25jbGljayA6PVxuICAgICAgICBEb21faHRtbC5oYW5kbGVyIChmdW4gXyAtPlxuICAgICAgICAgICAgKCogZ2V0IGFsbCBvY2FtbCBjb2RlICopXG4gICAgICAgICAgICBsZXQgY29kZSA9IHJlZiBbXSBpblxuICAgICAgICAgICAgSnMuT3B0Lml0ZXJcbiAgICAgICAgICAgICAgb3V0cHV0IyMuZmlyc3RDaGlsZFxuICAgICAgICAgICAgICAoaXRlcl9vbl9zaGFycCB+ZjooZnVuIGUgLT5cbiAgICAgICAgICAgICAgICAgICBjb2RlIDo9XG4gICAgICAgICAgICAgICAgICAgICBKcy5PcHQuY2FzZSBlIyMudGV4dENvbnRlbnQgKGZ1biAoKSAtPiBcIlwiKSBKcy50b19zdHJpbmcgOjogIWNvZGUpKTtcbiAgICAgICAgICAgIGxldCBjb2RlX2VuY29kZWQgPSBCNjQuZW5jb2RlIChTdHJpbmcuY29uY2F0IFwiXCIgKExpc3QucmV2ICFjb2RlKSkgaW5cbiAgICAgICAgICAgIGxldCB1cmwsIGlzX2ZpbGUgPVxuICAgICAgICAgICAgICBtYXRjaCBVcmwuQ3VycmVudC5nZXQgKCkgd2l0aFxuICAgICAgICAgICAgICB8IFNvbWUgKFVybC5IdHRwIHVybCkgLT4gVXJsLkh0dHAgeyB1cmwgd2l0aCBVcmwuaHVfZnJhZ21lbnQgPSBcIlwiIH0sIGZhbHNlXG4gICAgICAgICAgICAgIHwgU29tZSAoVXJsLkh0dHBzIHVybCkgLT4gVXJsLkh0dHBzIHsgdXJsIHdpdGggVXJsLmh1X2ZyYWdtZW50ID0gXCJcIiB9LCBmYWxzZVxuICAgICAgICAgICAgICB8IFNvbWUgKFVybC5GaWxlIHVybCkgLT4gVXJsLkZpbGUgeyB1cmwgd2l0aCBVcmwuZnVfZnJhZ21lbnQgPSBcIlwiIH0sIHRydWVcbiAgICAgICAgICAgICAgfCBfIC0+IGFzc2VydCBmYWxzZVxuICAgICAgICAgICAgaW5cbiAgICAgICAgICAgIGxldCBmcmFnID1cbiAgICAgICAgICAgICAgbGV0IGZyYWdzID0gcGFyc2VfaGFzaCAoKSBpblxuICAgICAgICAgICAgICBsZXQgZnJhZ3MgPSBMaXN0LnJlbW92ZV9hc3NvYyBcImNvZGVcIiBmcmFncyBAIFsgXCJjb2RlXCIsIGNvZGVfZW5jb2RlZCBdIGluXG4gICAgICAgICAgICAgIFVybC5lbmNvZGVfYXJndW1lbnRzIGZyYWdzXG4gICAgICAgICAgICBpblxuICAgICAgICAgICAgbGV0IHVyaSA9IFVybC5zdHJpbmdfb2ZfdXJsIHVybCBeIFwiI1wiIF4gZnJhZyBpblxuICAgICAgICAgICAgbGV0IGFwcGVuZF91cmwgc3RyID1cbiAgICAgICAgICAgICAgbGV0IGRvbSA9XG4gICAgICAgICAgICAgICAgVHl4bWxfanMuSHRtbC4oXG4gICAgICAgICAgICAgICAgICBwIFsgdHh0IFwiU2hhcmUgdGhpcyB1cmwgOiBcIjsgYSB+YTpbIGFfaHJlZiBzdHIgXSBbIHR4dCBzdHIgXSBdKVxuICAgICAgICAgICAgICBpblxuICAgICAgICAgICAgICBEb20uYXBwZW5kQ2hpbGQgb3V0cHV0IChUeXhtbF9qcy5Ub19kb20ub2ZfZWxlbWVudCBkb20pXG4gICAgICAgICAgICBpblxuICAgICAgICAgICAgTHd0LmFzeW5jIChmdW4gKCkgLT5cbiAgICAgICAgICAgICAgICBMd3QuY2F0Y2hcbiAgICAgICAgICAgICAgICAgIChmdW4gKCkgLT5cbiAgICAgICAgICAgICAgICAgICAgaWYgaXNfZmlsZVxuICAgICAgICAgICAgICAgICAgICB0aGVuIGZhaWx3aXRoIFwiQ2Fubm90IHNob3J0ZW4gdXJsIHdpdGggZmlsZSBzY2hlbWVcIlxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgbGV0IHVyaSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBQcmludGYuc3ByaW50ZlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImh0dHA6Ly9pcy5nZC9jcmVhdGUucGhwP2Zvcm1hdD1qc29uJnVybD0lc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChVcmwudXJsZW5jb2RlIHVyaSlcbiAgICAgICAgICAgICAgICAgICAgICBpblxuICAgICAgICAgICAgICAgICAgICAgIEx3dC5iaW5kIChKc19vZl9vY2FtbF9sd3QuSnNvbnAuY2FsbCB1cmkpIChmdW4gbyAtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RyID0gSnMudG9fc3RyaW5nIG8jIy5zaG9ydHVybCBpblxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRfdXJsIHN0cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgTHd0LnJldHVybl91bml0KSlcbiAgICAgICAgICAgICAgICAgIChmdW4gZXhuIC0+XG4gICAgICAgICAgICAgICAgICAgIEZvcm1hdC5lcHJpbnRmXG4gICAgICAgICAgICAgICAgICAgICAgXCJDb3VsZCBub3QgZ2VuZXJhdGUgc2hvcnQgdXJsLiByZWFzb246ICVzQC5cIlxuICAgICAgICAgICAgICAgICAgICAgIChQcmludGV4Yy50b19zdHJpbmcgZXhuKTtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kX3VybCB1cmk7XG4gICAgICAgICAgICAgICAgICAgIEx3dC5yZXR1cm5fdW5pdCkpO1xuICAgICAgICAgICAgSnMuX2ZhbHNlKSlcblxubGV0IHNldHVwX2pzX3ByZXZpZXcgKCkgPVxuICBsZXQgcGggPSBieV9pZCBcImxhc3QtanNcIiBpblxuICBsZXQgcnVuY29kZSA6IHN0cmluZyAtPiAnYSA9IEpzLlVuc2FmZS5nbG9iYWwjIy50b3BsZXZlbEV2YWwgaW5cbiAgSnMuVW5zYWZlLmdsb2JhbCMjLnRvcGxldmVsRXZhbFxuICA6PSBmdW4gYmMgLT5cbiAgcGgjIy5pbm5lckhUTUwgOj0gSnMuc3RyaW5nIGJjO1xuICBydW5jb2RlIGJjXG5cbmxldCBjdXJyZW50X3Bvc2l0aW9uID0gcmVmIDBcblxubGV0IGhpZ2hsaWdodF9sb2NhdGlvbiBsb2MgPVxuICBsZXQgeCA9IHJlZiAwIGluXG4gIGxldCBvdXRwdXQgPSBieV9pZCBcIm91dHB1dFwiIGluXG4gIGxldCBmaXJzdCA9XG4gICAgSnMuT3B0LmdldCAob3V0cHV0IyMuY2hpbGROb2RlcyMjaXRlbSAhY3VycmVudF9wb3NpdGlvbikgKGZ1biBfIC0+IGFzc2VydCBmYWxzZSlcbiAgaW5cbiAgaXRlcl9vbl9zaGFycCBmaXJzdCB+ZjooZnVuIGUgLT5cbiAgICAgIGluY3IgeDtcbiAgICAgIGxldCBfZmlsZTEsIGxpbmUxLCBjb2wxID0gTG9jYXRpb24uZ2V0X3Bvc19pbmZvIGxvYy5Mb2NhdGlvbi5sb2Nfc3RhcnQgaW5cbiAgICAgIGxldCBfZmlsZTIsIGxpbmUyLCBjb2wyID0gTG9jYXRpb24uZ2V0X3Bvc19pbmZvIGxvYy5Mb2NhdGlvbi5sb2NfZW5kIGluXG4gICAgICBpZiAheCA+PSBsaW5lMSAmJiAheCA8PSBsaW5lMlxuICAgICAgdGhlblxuICAgICAgICBsZXQgZnJvbV8gPSBpZiAheCA9IGxpbmUxIHRoZW4gYFBvcyBjb2wxIGVsc2UgYFBvcyAwIGluXG4gICAgICAgIGxldCB0b18gPSBpZiAheCA9IGxpbmUyIHRoZW4gYFBvcyBjb2wyIGVsc2UgYExhc3QgaW5cbiAgICAgICAgQ29sb3JpemUuaGlnaGxpZ2h0IGZyb21fIHRvXyBlKVxuXG5sZXQgYXBwZW5kIGNvbG9yaXplIG91dHB1dCBjbCBzID1cbiAgRG9tLmFwcGVuZENoaWxkIG91dHB1dCAoVHl4bWxfanMuVG9fZG9tLm9mX2VsZW1lbnQgKGNvbG9yaXplIH5hX2NsYXNzOmNsIHMpKVxuXG5tb2R1bGUgSGlzdG9yeSA9IHN0cnVjdFxuICBsZXQgZGF0YSA9IHJlZiBbfCBcIlwiIHxdXG5cbiAgbGV0IGlkeCA9IHJlZiAwXG5cbiAgbGV0IGdldF9zdG9yYWdlICgpID1cbiAgICBtYXRjaCBKcy5PcHRkZWYudG9fb3B0aW9uIERvbV9odG1sLndpbmRvdyMjLmxvY2FsU3RvcmFnZSB3aXRoXG4gICAgfCBleGNlcHRpb24gXyAtPiByYWlzZSBOb3RfZm91bmRcbiAgICB8IE5vbmUgLT4gcmFpc2UgTm90X2ZvdW5kXG4gICAgfCBTb21lIHQgLT4gdFxuXG4gIGxldCBzZXR1cCAoKSA9XG4gICAgdHJ5XG4gICAgICBsZXQgcyA9IGdldF9zdG9yYWdlICgpIGluXG4gICAgICBtYXRjaCBKcy5PcHQudG9fb3B0aW9uIChzIyNnZXRJdGVtIChKcy5zdHJpbmcgXCJoaXN0b3J5XCIpKSB3aXRoXG4gICAgICB8IE5vbmUgLT4gcmFpc2UgTm90X2ZvdW5kXG4gICAgICB8IFNvbWUgcyAtPlxuICAgICAgICAgIGxldCBhID0gSnNvbi51bnNhZmVfaW5wdXQgcyBpblxuICAgICAgICAgIGRhdGEgOj0gYTtcbiAgICAgICAgICBpZHggOj0gQXJyYXkubGVuZ3RoIGEgLSAxXG4gICAgd2l0aCBfIC0+ICgpXG5cbiAgbGV0IHB1c2ggdGV4dCA9XG4gICAgbGV0IGwgPSBBcnJheS5sZW5ndGggIWRhdGEgaW5cbiAgICBsZXQgbiA9IEFycmF5Lm1ha2UgKGwgKyAxKSBcIlwiIGluXG4gICAgIWRhdGEuKGwgLSAxKSA8LSB0ZXh0O1xuICAgIEFycmF5LmJsaXQgIWRhdGEgMCBuIDAgbDtcbiAgICBkYXRhIDo9IG47XG4gICAgaWR4IDo9IGw7XG4gICAgdHJ5XG4gICAgICBsZXQgcyA9IGdldF9zdG9yYWdlICgpIGluXG4gICAgICBsZXQgc3RyID0gSnNvbi5vdXRwdXQgIWRhdGEgaW5cbiAgICAgIHMjI3NldEl0ZW0gKEpzLnN0cmluZyBcImhpc3RvcnlcIikgc3RyXG4gICAgd2l0aCBOb3RfZm91bmQgLT4gKClcblxuICBsZXQgY3VycmVudCB0ZXh0ID0gIWRhdGEuKCFpZHgpIDwtIHRleHRcblxuICBsZXQgcHJldmlvdXMgdGV4dGJveCA9XG4gICAgaWYgIWlkeCA+IDBcbiAgICB0aGVuIChcbiAgICAgIGRlY3IgaWR4O1xuICAgICAgdGV4dGJveCMjLnZhbHVlIDo9IEpzLnN0cmluZyAhZGF0YS4oIWlkeCkpXG5cbiAgbGV0IG5leHQgdGV4dGJveCA9XG4gICAgaWYgIWlkeCA8IEFycmF5Lmxlbmd0aCAhZGF0YSAtIDFcbiAgICB0aGVuIChcbiAgICAgIGluY3IgaWR4O1xuICAgICAgdGV4dGJveCMjLnZhbHVlIDo9IEpzLnN0cmluZyAhZGF0YS4oIWlkeCkpXG5lbmRcblxubGV0IHJ1biBfID1cbiAgbGV0IGNvbnRhaW5lciA9IGJ5X2lkIFwidG9wbGV2ZWwtY29udGFpbmVyXCIgaW5cbiAgbGV0IG91dHB1dCA9IGJ5X2lkIFwib3V0cHV0XCIgaW5cbiAgbGV0IHRleHRib3ggOiAnYSBKcy50ID0gYnlfaWRfY29lcmNlIFwidXNlcmlucHV0XCIgRG9tX2h0bWwuQ29lcmNlVG8udGV4dGFyZWEgaW5cbiAgbGV0IHNoYXJwX2NoYW4gPSBvcGVuX291dCBcIi9kZXYvbnVsbDBcIiBpblxuICBsZXQgc2hhcnBfcHBmID0gRm9ybWF0LmZvcm1hdHRlcl9vZl9vdXRfY2hhbm5lbCBzaGFycF9jaGFuIGluXG4gIGxldCBjYW1sX2NoYW4gPSBvcGVuX291dCBcIi9kZXYvbnVsbDFcIiBpblxuICBsZXQgY2FtbF9wcGYgPSBGb3JtYXQuZm9ybWF0dGVyX29mX291dF9jaGFubmVsIGNhbWxfY2hhbiBpblxuICBsZXQgZXhlY3V0ZSAoKSA9XG4gICAgbGV0IGNvbnRlbnQgPSBKcy50b19zdHJpbmcgdGV4dGJveCMjLnZhbHVlIyN0cmltIGluXG4gICAgbGV0IGNvbnRlbnQnID1cbiAgICAgIGxldCBsZW4gPSBTdHJpbmcubGVuZ3RoIGNvbnRlbnQgaW5cbiAgICAgIGlmIHRyeSBjb250ZW50IDw+IFwiXCIgJiYgY29udGVudC5bbGVuIC0gMV0gPD4gJzsnICYmIGNvbnRlbnQuW2xlbiAtIDJdIDw+ICc7J1xuICAgICAgICAgd2l0aCBfIC0+IHRydWVcbiAgICAgIHRoZW4gY29udGVudCBeIFwiOztcIlxuICAgICAgZWxzZSBjb250ZW50XG4gICAgaW5cbiAgICBjdXJyZW50X3Bvc2l0aW9uIDo9IG91dHB1dCMjLmNoaWxkTm9kZXMjIy5sZW5ndGg7XG4gICAgdGV4dGJveCMjLnZhbHVlIDo9IEpzLnN0cmluZyBcIlwiO1xuICAgIEhpc3RvcnkucHVzaCBjb250ZW50O1xuICAgIEpzb29Ub3AuZXhlY3V0ZSB0cnVlIH5wcF9jb2RlOnNoYXJwX3BwZiB+aGlnaGxpZ2h0X2xvY2F0aW9uIGNhbWxfcHBmIGNvbnRlbnQnO1xuICAgIHJlc2l6ZSB+Y29udGFpbmVyIH50ZXh0Ym94ICgpXG4gICAgPj49IGZ1biAoKSAtPlxuICAgIGNvbnRhaW5lciMjLnNjcm9sbFRvcCA6PSBjb250YWluZXIjIy5zY3JvbGxIZWlnaHQ7XG4gICAgdGV4dGJveCMjZm9jdXM7XG4gICAgTHd0LnJldHVybl91bml0XG4gIGluXG4gIGxldCBoaXN0b3J5X2Rvd24gX2UgPVxuICAgIGxldCB0eHQgPSBKcy50b19zdHJpbmcgdGV4dGJveCMjLnZhbHVlIGluXG4gICAgbGV0IHBvcyA9IHRleHRib3gjIy5zZWxlY3Rpb25TdGFydCBpblxuICAgIHRyeVxuICAgICAgaWYgU3RyaW5nLmxlbmd0aCB0eHQgPSBwb3MgdGhlbiByYWlzZSBOb3RfZm91bmQ7XG4gICAgICBsZXQgXyA9IFN0cmluZy5pbmRleF9mcm9tIHR4dCBwb3MgJ1xcbicgaW5cbiAgICAgIEpzLl90cnVlXG4gICAgd2l0aCBOb3RfZm91bmQgLT5cbiAgICAgIEhpc3RvcnkuY3VycmVudCB0eHQ7XG4gICAgICBIaXN0b3J5Lm5leHQgdGV4dGJveDtcbiAgICAgIEpzLl9mYWxzZVxuICBpblxuICBsZXQgaGlzdG9yeV91cCBfZSA9XG4gICAgbGV0IHR4dCA9IEpzLnRvX3N0cmluZyB0ZXh0Ym94IyMudmFsdWUgaW5cbiAgICBsZXQgcG9zID0gdGV4dGJveCMjLnNlbGVjdGlvblN0YXJ0IC0gMSBpblxuICAgIHRyeVxuICAgICAgaWYgcG9zIDwgMCB0aGVuIHJhaXNlIE5vdF9mb3VuZDtcbiAgICAgIGxldCBfID0gU3RyaW5nLnJpbmRleF9mcm9tIHR4dCBwb3MgJ1xcbicgaW5cbiAgICAgIEpzLl90cnVlXG4gICAgd2l0aCBOb3RfZm91bmQgLT5cbiAgICAgIEhpc3RvcnkuY3VycmVudCB0eHQ7XG4gICAgICBIaXN0b3J5LnByZXZpb3VzIHRleHRib3g7XG4gICAgICBKcy5fZmFsc2VcbiAgaW5cbiAgbGV0IG1ldGEgZSA9XG4gICAgbGV0IGIgPSBKcy50b19ib29sIGluXG4gICAgYiBlIyMuY3RybEtleSB8fCBiIGUjIy5hbHRLZXkgfHwgYiBlIyMubWV0YUtleVxuICBpblxuICBsZXQgc2hpZnQgZSA9IEpzLnRvX2Jvb2wgZSMjLnNoaWZ0S2V5IGluXG4gICgqIHNldHVwIGhhbmRsZXJzICopXG4gIHRleHRib3gjIy5vbmtleXVwIDo9XG4gICAgRG9tX2h0bWwuaGFuZGxlciAoZnVuIF8gLT5cbiAgICAgICAgTHd0LmFzeW5jIChyZXNpemUgfmNvbnRhaW5lciB+dGV4dGJveCk7XG4gICAgICAgIEpzLl90cnVlKTtcbiAgdGV4dGJveCMjLm9uY2hhbmdlIDo9XG4gICAgRG9tX2h0bWwuaGFuZGxlciAoZnVuIF8gLT5cbiAgICAgICAgTHd0LmFzeW5jIChyZXNpemUgfmNvbnRhaW5lciB+dGV4dGJveCk7XG4gICAgICAgIEpzLl90cnVlKTtcbiAgdGV4dGJveCMjLm9ua2V5ZG93biA6PVxuICAgIERvbV9odG1sLmhhbmRsZXIgKGZ1biBlIC0+XG4gICAgICAgIG1hdGNoIGUjIy5rZXlDb2RlIHdpdGhcbiAgICAgICAgfCAxMyB3aGVuIG5vdCAobWV0YSBlIHx8IHNoaWZ0IGUpIC0+XG4gICAgICAgICAgICBMd3QuYXN5bmMgZXhlY3V0ZTtcbiAgICAgICAgICAgIEpzLl9mYWxzZVxuICAgICAgICB8IDEzIC0+XG4gICAgICAgICAgICBMd3QuYXN5bmMgKHJlc2l6ZSB+Y29udGFpbmVyIH50ZXh0Ym94KTtcbiAgICAgICAgICAgIEpzLl90cnVlXG4gICAgICAgIHwgMDkgLT5cbiAgICAgICAgICAgIEluZGVudC50ZXh0YXJlYSB0ZXh0Ym94O1xuICAgICAgICAgICAgSnMuX2ZhbHNlXG4gICAgICAgIHwgNzYgd2hlbiBtZXRhIGUgLT5cbiAgICAgICAgICAgIG91dHB1dCMjLmlubmVySFRNTCA6PSBKcy5zdHJpbmcgXCJcIjtcbiAgICAgICAgICAgIEpzLl90cnVlXG4gICAgICAgIHwgNzUgd2hlbiBtZXRhIGUgLT5cbiAgICAgICAgICAgIHNldHVwX3RvcGxldmVsICgpO1xuICAgICAgICAgICAgSnMuX2ZhbHNlXG4gICAgICAgIHwgMzggLT4gaGlzdG9yeV91cCBlXG4gICAgICAgIHwgNDAgLT4gaGlzdG9yeV9kb3duIGVcbiAgICAgICAgfCBfIC0+IEpzLl90cnVlKTtcbiAgKEx3dC5hc3luY19leGNlcHRpb25faG9vayA6PVxuICAgICBmdW4gZXhjIC0+XG4gICAgICAgRm9ybWF0LmVwcmludGYgXCJleGMgZHVyaW5nIEx3dC5hc3luYzogJXNALlwiIChQcmludGV4Yy50b19zdHJpbmcgZXhjKTtcbiAgICAgICBtYXRjaCBleGMgd2l0aFxuICAgICAgIHwgSnNfZXJyb3IuRXhuIGUgLT5cbiAgICAgICAgICAgbGV0IGUgPSBKc19lcnJvci50b19lcnJvciBlIGluXG4gICAgICAgICAgIEZpcmVidWcuY29uc29sZSMjbG9nIGUjIy5zdGFja1xuICAgICAgIHwgXyAtPiAoKSk7XG4gIEx3dC5hc3luYyAoZnVuICgpIC0+XG4gICAgICByZXNpemUgfmNvbnRhaW5lciB+dGV4dGJveCAoKVxuICAgICAgPj49IGZ1biAoKSAtPlxuICAgICAgdGV4dGJveCMjZm9jdXM7XG4gICAgICBMd3QucmV0dXJuX3VuaXQpO1xuICBHcmFwaGljc19zdXBwb3J0LmluaXQgKGJ5X2lkX2NvZXJjZSBcInRlc3QtY2FudmFzXCIgRG9tX2h0bWwuQ29lcmNlVG8uY2FudmFzKTtcbiAgU3lzX2pzLnNldF9jaGFubmVsX2ZsdXNoZXIgY2FtbF9jaGFuIChhcHBlbmQgQ29sb3JpemUub2NhbWwgb3V0cHV0IFwiY2FtbFwiKTtcbiAgU3lzX2pzLnNldF9jaGFubmVsX2ZsdXNoZXIgc2hhcnBfY2hhbiAoYXBwZW5kIENvbG9yaXplLm9jYW1sIG91dHB1dCBcInNoYXJwXCIpO1xuICBTeXNfanMuc2V0X2NoYW5uZWxfZmx1c2hlciBzdGRvdXQgKGFwcGVuZCBDb2xvcml6ZS50ZXh0IG91dHB1dCBcInN0ZG91dFwiKTtcbiAgU3lzX2pzLnNldF9jaGFubmVsX2ZsdXNoZXIgc3RkZXJyIChhcHBlbmQgQ29sb3JpemUudGV4dCBvdXRwdXQgXCJzdGRlcnJcIik7XG4gIGxldCByZWFkbGluZSAoKSA9XG4gICAgSnMuT3B0LmNhc2VcbiAgICAgIChEb21faHRtbC53aW5kb3cjI3Byb21wdCAoSnMuc3RyaW5nIFwiVGhlIHRvcGxldmVsIGV4cGVjdHMgaW5wdXRzOlwiKSAoSnMuc3RyaW5nIFwiXCIpKVxuICAgICAgKGZ1biAoKSAtPiBcIlwiKVxuICAgICAgKGZ1biBzIC0+IEpzLnRvX3N0cmluZyBzIF4gXCJcXG5cIilcbiAgaW5cbiAgU3lzX2pzLnNldF9jaGFubmVsX2ZpbGxlciBzdGRpbiByZWFkbGluZTtcbiAgc2V0dXBfc2hhcmVfYnV0dG9uIH5vdXRwdXQ7XG4gIHNldHVwX2V4YW1wbGVzIH5jb250YWluZXIgfnRleHRib3g7XG4gIHNldHVwX3BzZXVkb19mcyB+bG9hZF9jbWlzX2Zyb21fc2VydmVyOmZhbHNlO1xuICBzZXR1cF90b3BsZXZlbCAoKTtcbiAgc2V0dXBfanNfcHJldmlldyAoKTtcbiAgc2V0dXBfcHJpbnRlcnMgKCk7XG4gIEhpc3Rvcnkuc2V0dXAgKCk7XG4gIHRleHRib3gjIy52YWx1ZSA6PSBKcy5zdHJpbmcgXCJcIjtcbiAgKCogUnVuIGluaXRpYWwgY29kZSBpZiBhbnkgKilcbiAgdHJ5XG4gICAgbGV0IGNvZGUgPSBMaXN0LmFzc29jIFwiY29kZVwiIChwYXJzZV9oYXNoICgpKSBpblxuICAgIHRleHRib3gjIy52YWx1ZSA6PSBKcy5zdHJpbmcgKEI2NC5kZWNvZGUgY29kZSk7XG4gICAgTHd0LmFzeW5jIGV4ZWN1dGVcbiAgd2l0aFxuICB8IE5vdF9mb3VuZCAtPiAoKVxuICB8IGV4YyAtPlxuICAgICAgRmlyZWJ1Zy5jb25zb2xlIyNsb2dfM1xuICAgICAgICAoSnMuc3RyaW5nIFwiZXhjZXB0aW9uXCIpXG4gICAgICAgIChKcy5zdHJpbmcgKFByaW50ZXhjLnRvX3N0cmluZyBleGMpKVxuICAgICAgICBleGNcblxubGV0IF8gPVxuICBEb21faHRtbC53aW5kb3cjIy5vbmxvYWQgOj1cbiAgICBEb21faHRtbC5oYW5kbGVyIChmdW4gXyAtPlxuICAgICAgICBydW4gKCk7XG4gICAgICAgIEpzLl9mYWxzZSlcbiJdfQ==
